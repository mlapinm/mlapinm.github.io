1
00:00:00,729 --> 00:00:03,170
Welcome to Jeremy’s IT Lab.

2
00:00:03,170 --> 00:00:06,550
This is a free, complete course for the CCNA.

3
00:00:06,550 --> 00:00:10,530
If you like these videos, please subscribe
to follow along with the series.

4
00:00:10,530 --> 00:00:15,110
Also, please like and leave a comment, and
share the video to help spread this free series

5
00:00:15,110 --> 00:00:16,240
of videos.

6
00:00:16,240 --> 00:00:18,150
Thanks for your help.

7
00:00:18,150 --> 00:00:22,010
In this video we will continue our studies
of OSPF.

8
00:00:22,010 --> 00:00:25,960
In part 1 I introduced the basic functions
of OSPF.

9
00:00:25,960 --> 00:00:30,419
In this video I will cover more important
OSPF topics which you need to know for the

10
00:00:30,419 --> 00:00:32,110
CCNA.

11
00:00:32,110 --> 00:00:37,950
To review, OSPF is item 3.4 on the official
exam topics list.

12
00:00:37,950 --> 00:00:42,859
You already know the basics of configuring
single area OSPFv2, and you know about the

13
00:00:42,859 --> 00:00:44,640
OSPF router ID.

14
00:00:44,640 --> 00:00:47,580
Let’s see what we’ll cover in this video.

15
00:00:47,580 --> 00:00:51,039
We’ll cover three main topics.

16
00:00:51,039 --> 00:00:54,969
First up OSPF’s metric, which as you know
is called cost.

17
00:00:54,969 --> 00:01:00,620
It’s not so difficult to understand, so
you should know it well for the exam.

18
00:01:00,620 --> 00:01:03,730
The next topic will be how routers become
OSPF neighbors.

19
00:01:03,730 --> 00:01:08,790
I’ve mentioned OSPF neighbors previously,
but haven’t actually shown you the actual

20
00:01:08,790 --> 00:01:09,790
process.

21
00:01:09,790 --> 00:01:13,190
We’ll go in depth in this video.

22
00:01:13,190 --> 00:01:17,190
Finally I’ll introduce some more OSPF configurations.

23
00:01:17,190 --> 00:01:21,080
Make sure to stick around until the end of
today’s video for a bonus question from

24
00:01:21,080 --> 00:01:23,690
Boson ExSim.

25
00:01:23,690 --> 00:01:29,930
ExSim is a set of practice exams for the CCNA
which I used to prepare for my CCNA and CCNP

26
00:01:29,930 --> 00:01:30,970
exams.

27
00:01:30,970 --> 00:01:35,720
I highly recommend them, so make sure to check
out that bonus question and follow the link

28
00:01:35,720 --> 00:01:39,450
in the video description to get Boson ExSim
for yourself.

29
00:01:39,450 --> 00:01:43,060
Let’s talk about OSPF’s metric.

30
00:01:43,060 --> 00:01:47,350
As you already know, OSPF’s metric is called
‘cost’.

31
00:01:47,350 --> 00:01:51,840
It is automatically calculated based on the
bandwidth, which is basically the speed, of

32
00:01:51,840 --> 00:01:53,650
the interface.

33
00:01:53,650 --> 00:01:58,860
You can also manually configure the cost of
each interface, but I’ll show you that later.

34
00:01:58,860 --> 00:02:03,680
The interface’s cost is calculated by dividing
a value called the ‘reference bandwidth’

35
00:02:03,680 --> 00:02:06,280
by the interface’s bandwidth.

36
00:02:06,280 --> 00:02:10,299
The default OSPF reference bandwidth is 100
megabits per second.

37
00:02:10,299 --> 00:02:16,030
So, for example a regular Ethernet interface
with a speed of 10 megabits per second has

38
00:02:16,030 --> 00:02:21,689
an OSPF cost of 10, because 100 divided by
10 equals 10.

39
00:02:21,689 --> 00:02:26,541
A FastEthernet interface, with a speed of
100 megabits per second, has an OSPF cost

40
00:02:26,541 --> 00:02:30,629
of 1, because 100 divided by 100 is 1.

41
00:02:30,629 --> 00:02:36,760
Now, what about a gigabit Ethernet interface,
with a speed of 1000 megabits per second?

42
00:02:36,760 --> 00:02:42,930
It has a cost of 1, even though 100 divided
by 1000 equals 0.1.

43
00:02:42,930 --> 00:02:48,459
And what about a 10-gig Ethernet interface,
with a speed of 10000 megabits per second?

44
00:02:48,459 --> 00:02:53,659
It also has a cost of 1, even though 100 divided
by 10000 equals 0.01.

45
00:02:53,659 --> 00:02:55,780
Why is that?

46
00:02:55,780 --> 00:03:02,140
Well, in OSPF all values less than 1 will
be converted to 1.

47
00:03:02,140 --> 00:03:07,489
Therefore FastEthernet, Gigabit Ethernet,
10Gig Ethernet, etc. are equal and all have

48
00:03:07,489 --> 00:03:09,629
a cost of 1 by default.

49
00:03:09,629 --> 00:03:12,060
Let me show you in the CLI.

50
00:03:12,060 --> 00:03:15,680
So, here is the same network topology as before.

51
00:03:15,680 --> 00:03:19,439
Let’s check out the cost of R3’s F2/0
interface.

52
00:03:19,439 --> 00:03:25,099
I used the SHOW IP OSPF INTERFACE F2/0 command.

53
00:03:25,099 --> 00:03:26,370
Can you find the cost?

54
00:03:26,370 --> 00:03:29,549
It’s actually displayed in two places.

55
00:03:29,549 --> 00:03:31,980
Here and here.

56
00:03:31,980 --> 00:03:36,819
As I said, the default cost of a FastEthernet
interface is 1, because it has a speed of

57
00:03:36,819 --> 00:03:43,269
100 megabits per second and the reference
bandwidth is 100 megabits per second by default.

58
00:03:43,269 --> 00:03:47,590
Now let’s check out the default OSPF cost
on R3’s G0/0 interface.

59
00:03:47,590 --> 00:03:56,319
I entered SHOW IP OSPF INTERFACE G0/0, and
as you can see the cost here is 1 as well.

60
00:03:56,319 --> 00:03:59,310
Clearly the default situation is not ideal.

61
00:03:59,310 --> 00:04:01,959
Fortunately, you can change this.

62
00:04:01,959 --> 00:04:07,489
You can, and should, change the reference
bandwidth with this command, from OSPF configuration

63
00:04:07,489 --> 00:04:08,730
mode.

64
00:04:08,730 --> 00:04:14,620
AUTO-COST REFERENCE-BANDWIDTH, followed by
the reference bandwidth in megabits per second.

65
00:04:14,620 --> 00:04:18,040
Let’s take a look at that command.

66
00:04:18,040 --> 00:04:23,720
As I showed in the previous slide, the reference
bandwidth is configured in megabits per second.

67
00:04:23,720 --> 00:04:29,360
I configured 100,000, so what will the cost
of FastEthernet and Gigabit Ethernet interfaces

68
00:04:29,360 --> 00:04:30,640
be?

69
00:04:30,640 --> 00:04:36,680
100,000 divided by 100 is 1000, so that’s
the cost of a FastEthernet interface.

70
00:04:36,680 --> 00:04:39,670
How about Gigabit Ethernet?

71
00:04:39,670 --> 00:04:46,070
100,000 divided by 1000 is 100, so that’s
the cost of a Gigabit Ethernet interface.

72
00:04:46,070 --> 00:04:49,590
Why configure such a large number for the
reference bandwidth?

73
00:04:49,590 --> 00:04:54,770
Well, you should configure a reference bandwidth
greater than the fastest links in your network

74
00:04:54,770 --> 00:04:57,920
to allow for future upgrades.

75
00:04:57,920 --> 00:05:03,420
The 100 (*100,000) megabits per second I configured
as the reference bandwidth is equal to a 100

76
00:05:03,420 --> 00:05:08,280
Welcome to Jeremy’s IT Lab.  This is a free, complete course for the CCNA.  If you like these videos, please subscribe to follow along with the series.  Also, please like and leave a comment, and share the video to help spread this free series of videos.  Thanks for your help.  
 
 
In this video we will continue our studies of OSPF.  In part 1 I introduced the basic functions of OSPF.  In this video I will cover more important OSPF topics which you need to know for the CCNA.   To review, OSPF is item 3.4 on the official exam topics list.  You already know the basics of configuring single area OSPFv2, and you know about the OSPF router ID.  Let’s see what we’ll cover in this video.
 
 
We’ll cover three main topics.   First up OSPF’s metric, which as you know is called cost.  It’s not so difficult to understand, so you should know it well for the exam.  The next topic will be how routers become OSPF neighbors.  I’ve mentioned OSPF neighbors previously, but haven’t actually shown you the actual process.  We’ll go in depth in this video.  Finally I’ll introduce some more OSPF configurations.  Make sure to stick around until the end of today’s video for a bonus question from Boson ExSim.  ExSim is a set of practice exams for the CCNA which I used to prepare for my CCNA and CCNP exams.  I highly recommend them, so make sure to check out that bonus question and follow the link in the video description to get Boson ExSim for yourself.
 
 
Let’s talk about OSPF’s metric.  As you already know, OSPF’s metric is called ‘cost’.  It is automatically calculated based on the bandwidth, which is basically the speed, of the interface.  You can also manually configure the cost of each interface, but I’ll show you that later.  The interface’s cost is calculated by dividing a value called the ‘reference bandwidth’ by the interface’s bandwidth.  The default OSPF reference bandwidth is 100 megabits per second.  So, for example a regular Ethernet interface with a speed of 10 megabits per second has an OSPF cost of 10, because 100 divided by 10 equals 10.  A FastEthernet interface, with a speed of 100 megabits per second, has an OSPF cost of 1, because 100 divided by 100 is 1.  Now, what about a gigabit Ethernet interface, with a speed of 1000 megabits per second?  It has a cost of 1, even though 100 divided by 1000 equals 0.1.  And what about a 10-gig Ethernet interface, with a speed of 10000 megabits per second?  It also has a cost of 1, even though 100 divided by 10000 equals 0.01.  Why is that?  Well, in OSPF all values less than 1 will be converted to 1.  Therefore FastEthernet, Gigabit Ethernet, 10Gig Ethernet, etc. are equal and all have a cost of 1 by default.  Let me show you in the CLI.
 
 
So, here is the same network topology as before.  Let’s check out the cost of R3’s F2/0 interface.  I used the SHOW IP OSPF INTERFACE F2/0 command.  Can you find the cost?  It’s actually displayed in two places.  Here and here.  As I said, the default cost of a FastEthernet interface is 1, because it has a speed of 100 megabits per second and the reference bandwidth is 100 megabits per second by default.  
 
 
Now let’s check out the default OSPF cost on R3’s G0/0 interface.  I entered SHOW IP OSPF INTERFACE G0/0, and as you can see the cost here is 1 as well.  
 
 
Clearly the default situation is not ideal.  Fortunately, you can change this.  You can, and should, change the reference bandwidth with this command, from OSPF configuration mode.  AUTO-COST REFERENCE-BANDWIDTH, followed by the reference bandwidth in megabits per second.  
 
 
Let’s take a look at that command.  As I showed in the previous slide, the reference bandwidth is configured in megabits per second.  I configured 100,000, so what will the cost of FastEthernet and Gigabit Ethernet interfaces be?  100,000 divided by 100 is 1000, so that’s the cost of a FastEthernet interface.  How about Gigabit Ethernet?   100,000 divided by 1000 is 100, so that’s the cost of a Gigabit Ethernet interface.  Why configure such a large number for the reference bandwidth?  Well, you should configure a reference bandwidth greater than the fastest links in your network to allow for future upgrades.  The 100,000 megabits per second I configured as the reference bandwidth is equal to a 100 gigabit per second interface, which is 100 times faster than the fastest interfaces in this network, regular gigabit ethernet.  Finally, notice this message that is displayed when you configure the reference bandwidth.  ‘Please ensure reference bandwidth is consistent across all routers.’  So, to provide a consistent cost for each interface bandwidth across the network, you should configure the same reference bandwidth on all OSPF routers in the network.
 
 
Okay, I set the same OSPF reference bandwidth of 100 gigabits per second on all of the routers.  The OSPF cost to a destination is the total cost of the ‘outgoing’ or ‘exit’ interfaces.  This is just like spanning tree cost.  For example, R1’s cost to reach 192.168.4.0/24 is what?  To reach 192.168.4.0, a packet would exit R1’s G0/0, R2’s G1/0, and R4’s G1/0.  So that’s 100 plus 100 plus 100, for a total cost of 300.  We’ll check R1’s routing table soon, but one more thing.  Loopback interfaces have a cost of 1.  So, what is R1’s cost to reach 2.2.2.2, which is R2’s loopback0 interface?  To reach 2.2.2.2, the packet must exit R1’s G0/0 and R2’s loopback0.  Now, it doesn’t actually exit any physical interface to reach the virtual loopback interface, but the cost of 1 is added to the metric.  So, R1’s cost to reach 2.2.2.2 is 101.
 
 
Here is R1’s routing table before changing the reference bandwidth on all of the routers, so they all have the default reference bandwidth of 100 megabits per second.  Notice that it has two routes to 192.168.4.0, one via R2 and one via R3.  Even though the connection between R3 and R4 is a slower FastEthernet connection, it has the same cost of 1 as the gigabit Ethernet interfaces.
 
And here is R1’s routing table after changing the reference bandwidth of each router to 100,000 megabits per second.  Now R1 only inserts one route to 192.168.4.0 in the routing table, and the cost is 300 as we calculated before.  Notice the cost to 2.2.2.2 is 101, like we also calculated before.  
 
Now let me introduce how to manually configure the OSPF cost of an interface.  The command is IP OSPF COST, followed by the cost you want to configure.  You configure this directly on the interface, and this cost will take priority over the auto-calculated cost.  For example, I configured the cost of R1’s G0/0 interface as 10,000, and now you can see the cost is 10,000 instead of 100.  
 
One more option to change the OSPF cost of an interface is to change the bandwidth of the interface with the BANDWIDTH command.  To review, the formula to calculate OSPF cost is reference bandwidth divideded by the interface bandwidth.  I showed you how to change the reference bandwidth, but you can also change the interface bandwidth.  Now, I have to make clear the difference between interface ‘speed’ and ‘bandwidth’.  Although the bandwidth matches the interface speed by default, changing the interface bandwidth doesn’t actually change the speed at which the interface operates.  The bandwidth is just a value that is used to calculate OSPF cost, EIGRP metric, etc.  To change the speed at which the interface operates, use the SPEED command.  This is how you actually change the speed at which the interface physically sends data.  If you change the bandwidth of a gigabit Ethernet interface to 100 megabits per second, it will still operate at 1 gigabit per second.  However, for the purpose of OSPF’s cost calculation, the bandwidth of 100 megabits per second will be used.  Because the bandwidth value is used in other calculations, not just the OSPF cost, it is not recommended to change this value to alter the interface’s OSPF cost.    It is recommended that you change the reference bandwidth, and then use the ip ospf cost command to change the cost of individual interfaces if you want.  However, if you want to change the bandwidth of the interface, here is the command.  BANDWIDTH, followed by the bandwidth in kilobits per second.  Note that this is different than the reference bandwidth, which is entered in megabits per second.  The interface bandwidth command is entered in kilobits per second.  Before you enter any command like this, I highly recommend using the question mark to check the units the command is entered in.  For example commands involving time, some are entered in seconds, some are entered in minutes.  For commands involving speed, some are entered in kilobits, some are entered in megabits, etc.  Always check to make sure you’re entering the correct units.
 
Let’s summarize.  There are three ways to modify the OSPF cost.  First is to change the reference bandwidth.  The command is AUTO-COST REFERENCE-BANDWIDTH and then the reference bandwidth in megabits per second, entered in OSPF config mode.  Next is to manually configure the OSPF cost of the interface with the command IP OSPF COST, entered in interface config mode.  Finally you can also change the interface bandwidth, although this isn’t recommended.  The command is BANDWIDTH, followed by the bandwidth in kilobits per second, entered in interface config mode.  I already showed you the SHOW IP OSPF INTERFACE command, but here’s a quicker way to check the OSPF cost of each interface.  SHOW IP OSPF INTERFACE BRIEF gives a convenient overview of each OSPF-enabled interface on the router.  Okay, let’s move on to the next topic.
 
This is another very important topic in OSPF, OSPF neighbors.  Making sure that routers successfully become OSPF neighbors is the main task in configuring and troubleshooting OSPF.  Once routers become neighbors, they automatically do the work of sharing network information, calculating routes, etc.  So, you just have to make sure that OSPF is activated on the correct interfaces, and that the proper conditions are met to allow the routers to become neighbors.  Of course, there are more advanced OSPF configurations you can do, but for basic OSPF operation they aren’t necessary.  However, if routers can’t become OSPF neighbors, OSPF can’t operate at all, so this is very important.  So, how do routers become OSPF neighbors?  When OSPF is activated on an interface, the router starts sending OSPF hello messages out of the interface at regular intervals (determined by the hello timer).  These are used to introduce the router to potential OSPF neighbors.  By exchanging hello messages they check that they are compatible to become OSPF neighbors, and then negotiate their neighbor relationship.  By the way, the default hello timer is 10 seconds on an Ethernet connection.  Remember this number!  OSPF hello messages are multicast to the IP address 224.0.0.5, which is the multicast address for all OSPF routers.  Do you remember RIP’s multicast address?  It’s 224.0.0.9.  How about EIGRP?  224.0.0.10.  Also, OSPF messages are encapsulated in an IP header, and the ‘protocol’ field of the IP header has a value of 89 to indicate OSPF.  If you need a review of the IP header, go back and watch Day 10 of the course again.  
 
Okay, for OSPF routers to become neighbors they have to go through various neighbor states.  I’ll give a basic overview of each of the neighbor states.  I recommend taking notes for this section.  Although it will be just a basic overview, I’m going to give you a lot of information over the next few slides.  So, let’s assume OSPF is already activated on R2’s G0/0 interface.  Then, OSPF is activated on R1’s G0/0 interface.  It sends an OSPF hello message to 224.0.0.5.  There are more fields in the hello message, but two important ones are R1’s router ID and the neighbor’s router ID.  However, R1 doesn’t know about R2 yet, so the neighbor router ID field is 0.0.0.0.  R1 doesn’t know about any OSPF neighbors yet, so the current neighbor state is Down.  This is the first OSPF neighbor state, ‘Down’.  
 
 
When R2 receives the Hello packet, it will add an entry for R1 to its OSPF neighbor table.  In R2’s neighbor table, the relationship with R1 is now in the Init state.  Note that R1 still doesn’t know about R2, so it will have no entries in its OSPF neighbor table.  Basically, the Init state means that a Hello packet was received, but R2’s own router ID is not in the Hello packet.  R2’s router ID is 2.2.2.2, but the neighbor router ID in R1’s Hello packet is 0.0.0.0.  So, that’s the Init state.
 
 
The next state is the 2-way state.  R2 will send a Hello packet containing the RID of both routers.  R1 will insert R2 into its OSPF neighbor table in the 2-way state.  Then, R1 will send another Hello message, this time containing R2’s RID.  Now both routers are in the 2-way state.
 
 
The 2-way state means the router has received a Hello packet with its own RID in it.  If both routers reach the 2-way state, it means that all of the conditions have been met for them to become OSPF neighbors.  They are now ready to share LSAs to build a common LSDB.  On the other hand, if they fail to reach this 2-way state, you know that you have to troubleshoot and find what’s stopping them from reaching it.  In some network types, a DR (Designated Router) and BDR (Backup Designated Router) will be elected at this point.  I will talk about OSPF network types and DR/BDR elections in Day 28, so don’t worry about them for now.  I just wanted to introduce the terms, DR and BDR.  At this point, the routers are already OSPF neighbors.  Over the next few neighbor states they will share LSAs and form a full OSPF adjacency.  Let’s go to the next neighbor state.
 
After the 2-way state, the two routers will now prepare to exchange information about their LSDB.  Before that, they have to choose which one will start the exchange.  So, they will decide which one will be the Master router and which will be the Slave router.  Note that these are different than the DR and BDR I mentioned in the last slide.  This Master/Slave relationship is only needed for this initial exchange of LSDB information.  They decide which will be the Master and which will be the slave in the Exstart state.  The router with the higher RID will become the Master and initiate the exchange.  The router with the lower RID will become the Slave.  So, in this case R2 will be the master and R1 will be the slave.  To decide the Master and Slave, they exchange DBD (Database Description) packets.  DBD packets are also important in the next state, so I will talk more about them in the next slide.  Basically, the Exstart state is just to prepare for the next state.  R1 sends a DBD packet claiming to be the master.  However R2 corrects R1.  R2 has the higher router ID, and says that it will be the master.
 
 
In the next state, the Exchange state, the routers exchange DBDs which contain a list of the LSAs in their LSDB.  These DBDs do not include detailed information about the LSAs, just basic information telling their neighbor what LSAs they have.  Basically the routers are telling each other, ‘I have these LSAs’, but they aren’t actually sending the LSAs yet.  The routers compare the information in the DBD they received to the information in their own LSDB to determine which LSAs they must receive from their neighbor.  After exchanging DBDs, they move to the next state.
 
The next state is the Loading state.  In the Loading state, routers send Link State Request (LSR) messages to request that their neighbors send them any LSAs they don’t have.  In the Exchange state they exchanged DBD packets, so they know which LSAs their neighbors are holding.  So, these LSRs are used to request any missing LSAs to make sure each router has the same LSAs.  I’ll just show one side of the exchange, but R2 will also send R1 LSRs for any missing LSAs.  Then the LSAs themselves are sent in Link State Update, LSU, messages.  R2 sends R1 the requested LSAs in an LSU like this.  R1 will also do the same for R2.  Finally, The routers send LSAck messages, another kind of OSPF message, to acknowledge that they received the LSAs.  Now the loading state is complete, and the routers have the same LSDB.  
 
We’ve reached the final OSPF state.  In the Full state, the routers have a full OSPF adjacency and identical LSDBs.  But that doesn’t mean things are complete.  They continue to send and listen for Hello packets, once every 10 seconds by default, to maintain the neighbor adjacency.  To maintain the adjacency another timer called the ‘Dead’ timer is used.  Every time a Hello packet is received, the ‘Dead’ timer, which is 40 seconds by default, is reset.  However, if the Dead timer counts down to 0 and no Hello message is received, the neighbor is removed.  If the neighbors remain up, the routers will continue to share LSAs as the network changes to make sure each router has a complete and accurate map of the network.  This is the main advantage of dynamic routing protocols, the routers automatically react to changes in the network and add, remove, or change routes as necessary.
 
Let’s summarize that process.  First of all, the connection between R1 and R2 comes up, or OSPF is activated on the interfaces, which starts the process.  The first state is the Down state, R1 and R2 don’t know each other yet, but they will send hello packets out of their interfaces.  Let’s assume that R1 sends the first Hello packet.  The Init state is when R2 receives that first Hello packet from R1, but R2’s own router ID isn’t in the packet yet.  In the 2-way state, the routers exchange more hello packets, but R1’s router ID is included in R2’s Hellos, and R2’s router ID is included in R1’s Hellos.  In some kinds of OSPF connections an election for the designated router and backup designated router takes place.  I will talk about this more in Day 28.  Next is the Exstart state.  The routers exchange DBD packets to determine which will be the Master and which will be the Slave.  The Master is the router that starts the DBD exchange in the next state, the Exchange state.  They exchange DBD packets to tell each other about the contents of their LSDB.  The next state is the Loading state.  They use LSRs, Link State Requests, to request LSAs from each other.  The LSAs are sent in LSU, Link State Update, packets.  Finally, LSAck packets are sent to acknowledge that they received the LSAs they requested.  Finally, the routers reach the Full state, and they have a full OSPF adjacency.
 
Do you remember this slide from Day 26?  The three main steps in the process of sharing LSAs and determining the best routes to each destination are 1, become neighbors, 2, exchange LSAs, and 3, calculate the best routes.
 
Looking at this process again, these first three states involve becoming neighbors, these three involve exchanging LSAs to synchronize the LSDB, and then the routers use the metric I taught you to calculate the best route to each destination.  That’s a basic overview of how OSPF works.
 
Also, here’s a quick summary chart of the 5 different OSPF message types.  Notice that they are numbered from 1 to 5, 1 being Hello, 2 being DBD, etc.  I already described the basic purpose of each of these messages, so you can pause the video here or take a screenshot if you want to use this chart to review.
 
After that overview, let’s take another look at a few OSPF show commands, you should understand the output a little better now.  Here is SHOW IP OSPF NEIGHBOR, I entered it on R1.  Note the full state with both neighbors R2 and R3.  Also, both R2 and R3 are DRs.  Again, I will explain DRs in the next video.  Also notice the dead time.  This counts down from 40, but resets as soon as R1 receives a Hello packet from the neighbor.  So, assuming a Hello packet is received every 10 seconds, it should count down to 30, reset to 40, count down to 30, reset to 40, etc.  Now let’s take another look at SHOW IP OSPF INTERFACE, looking at R1’s G0/0 interface.  You can see the default Hello and Dead timers of 10 and 40 here.  Hello due in 7 seconds means that R1 will send a Hello message out of this interface in 7 seconds, as it does once every 10 seconds.  Neighbor count is 1, adjacent neighbor count is 1.  R1 has only 1 neighbor connected to its G0/0 interface, that’s R2.  In the next video I’ll tell you the difference between a neighbor and an adjacent neighbor.  Finally, adjacent neighbor 2.2.2.2, designated router.   As we saw above in SHOW IP OSPF NEIGHBOR, R2 is a designated router.  Again, I’ll talk about that in Day 28, but feel free to do a Google search to learn about it if you’re curious.  Okay, that’s all for OSPF neighbors for today, we will cover a few more details in Day 28.  Let’s move on to look at a little bit more OSPF configuration.
 
 
I already showed you a few new OSPF configurations when we talked about OSPF metric, specifically the AUTO-COST REFERENCE-BANDWIDTH command and IP OSPF COST command.  So, let’s just look at a couple additional configurations.  First off, do you remember the purpose of the NETWORK command?  It’s the same for RIP, EIGRP, and OSPF.  It simply tells the router which interfaces to activate the routing protocol on.  Well, you can actually enable OSPF directly on an interface, without using the NETWORK command.  For example, let’s assume that R1 has no OSPF configurations on it yet.  Here’s how to enable OSPF on the interfaces.  You can activate OSPF directly on an interface with this command: IP OSPF, followed by the process ID, then AREA, and the area ID.  Note that this is done from interface configuration mode.  Now OSPF is enabled on those interfaces and I haven’t even entered OSPF configuration mode.  Next, another method to configure passive interfaces.  Can you see the difference?  You can configure all of the router’s interfaces to be OSPF passive interfaces by default with the command PASSIVE-INTERFACE DEFAULT.  Then, you can use the command NO PASSIVE-INTERFACE to remove that only from specific interfaces.  This is simply another way to configure passive interfaces.  Depending on the number of passive interfaces you need to configure, this method might be faster, or perhaps the normal method is faster.  Either way, the effect is the same.
 
If you configure OSPF directly on the interfaces, you’ll see slightly different output from SHOW IP PROTOCOLS.  The ‘routing for networks’ section is empty, and instead the interfaces you activated OSPF on are displayed here, ‘routing on interfaces configured explicitly’.  The rest of the output is the same, however.  
 
Before moving on to today’s quiz, let’s review what we covered.  First up I showed you OSPF’s metric, called cost.  By default it is automatically calculated by dividing the reference bandwidth by the actual bandwidth of the interface.  However, if the result is a value less than 1, it is converted to 1.  The default reference bandwidth is 100, so anything equal to or faster than 100 megabits per second has an equal cost of 1.  You can modify the reference bandwidth with the AUTO-COST REFERENCE-BANDWIDTH command.  You can also manually configure the cost of an interface with the IP OSPF COST command.  One more option to modify an interface’s cost is to change the bandwidth with the BANDWIDTH command, although this isn’t the recommended method.  Finally, a route’s metric is the total cost of the outgoing interfaces in the route.
 
Next we studied the process routers use to become OSPF neighbors.  Here’s the summary diagram.  This is probably the most difficult section of this lecture.  I recommend watching it a few times, and perhaps doing a google search for ‘ospf neighbor states’ to learn more about the process.
 
Finally I introduced a couple more OSPF configurations.  Instead of using the NETWORK command, you can activate OSPF directly on an interface with this command.  As an alternative method of configuring passive interfaces, you can configure all interfaces as passive with the PASSIVE-INTERFACE DEFAULT command, and then only make specific interfaces active after.  Make sure to watch until the end of today’s quiz for a bonus question from Boson ExSim for CCNA, a set of practice exams for the CCNA and the best tool to get ready for the real CCNA exam.  Okay, let’s go on to quiz question 1.
 
Put the OSPF neighbor states in the correct order.  Here are the neighbor states, order them from 1 to 7.  Pause the video now to think about your answer.
 
Here’s the answer.  Down, Init, 2-way, Exstart, Exchange, Loading, and Full.  A full explanation of each state would take too long, so go back in the video if you don’t remember the order and purpose of each state.  Let’s go to question 2.
 
Which statement about OSPF’s default cost is correct?  a) All interfaces have the same cost.  b) Ethernet and FastEthernet interfaces have the same cost.  c) FastEthernet, Gigabit Ethernet, and 10Gig Ethernet interfaces have the same cost.  And d) Ethernet, FastEthernet, Gigabit Ethernet, and 10Gig Ethernet interfaces have the same cost.  Pause the video to think about the answer.
 
The answer is C, FastEthernet, Gigabit Ethernet, and 10Gig Ethernet interfaces have the same cost by default.  The cost is calculated by dividing the reference bandwidth by the interface bandwidth.  The default reference bandwidth is 100 megabits per second, so a FastEthernet interface has a cost of 1.  However, anything faster than that will have a cost of 1 as well, because all values less than 1 are converted to 1.  Let’s go to question 3.
 
In which OSPF neighbor state are the Master and Slave roles decided?  A, Exstart.  B, 2-way.  C, Exchange.  Or D, Loading.  Pause the video to think about the answer.
 
The answer is A, Exstart.  A Master and Slave need to be decided in the Exstart state.  The Master is the router that will start the Database Description, DBD, exchange in the following state, the Exchange state, which is option C.  In option B, 2-way, a designated router and backup designated router are selected in some cases, but not a Master and Slave.  In D, the Loading state, LSRs, LSUs, and LSAcks are exchanged, but a Master and Slave are not decided.  Let’s go to question 4.
 
Which of these commands can be used to make a FastEthernet interface have an OSPF cost of 100?  A, AUTO-COST REFERENCE-BANDWIDTH 100. B, 1000. C, 10,000. Or D, 100,000.  Pause the video to think about your answer.
 
The answer is C, AUTO-COST REFERENCE-BANDWIDTH 10,000.  Once again, the cost is calculated by dividing the reference bandwidth by the interface bandwidth.  A FastEthernet interface has a bandwidth of 100 megabits per second.  10,000 divided by 100 equals 100, so you should set the reference bandwidth to 10,000.  Let’s go to question 5.
 
What are the default OSPF Hello / Dead timers on an Ethernet connection?  All times are in seconds.  A, Hello, 2 seconds, Dead 20 seconds.  B, Hello 10 seconds, Dead 40 seconds.  C, Hello 30 seconds, Dead 120 seconds.  Or D, Hello 60 seconds, Dead 180 seconds.  Pause the video to think about your answer.
 
The answer is B, the default Hello timer on an Ethernet connection is 10 seconds and the default Dead timer is 40 seconds.  Now, I haven’t mentioned this in this video, but for some other kinds of connections the default OSPF timers are actually 30 and 120, as in option C.  However, for Ethernet connections the defaults are 10 and 40.  I’ll talk about some other kinds of connections in Day 28.  Okay, that’s all for the quiz.  Let’s take a look at a bonus question from Boson ExSim for CCNA.
 
There are supplementary materials for this video.    There is a flashcard deck to use with the software ‘Anki’.   There will also be a packet tracer practice lab so you can get some hands-on practice.  That will be in the next video.  Sign up for my mailing list via the link in the description, and I’ll send you all of the flashcards and packet tracer lab files for the course.  
 
 
Before finishing today’s video I want to thank my JCNP-level channel members.  Thank you to Marko, Florian, Daming, Venkatesh, Kone, Joshua, Jhilmar, Samil, Ed, Value, Magrathea, Justin, John, funnydart, Scott, Hassan, Gerrard, Tibi, Joyce, Marek, Velvijaykum, C Mohd, Johan, Mark, Miguel, Yousif, Sidi, Boson Software, Charlesetta, Devin, Lito, Mike, Yonatan, and Vance.  Sorry if I pronounced your name incorrectly, but thank you so much for your support.  One of you is still displaying as Channel failed to load, if this is you please let me know and I’ll see if YouTube can fix it.  This is the list of JCNP-level channel members at the time of recording by the way, August 11th 2020.  If you signed up recently and your name isn’t on here don’t worry, you’ll be in future videos.
 
 
Thank you for watching.  Please subscribe to the channel, like the video, leave a comment, and share the video with anyone else studying for the CCNA.  If you want to leave a tip, check the links in the description.  I'm also a Brave verified publisher and accept BAT, or Basic Attention Token, tips via the Brave browser.  That's all for now.Welcome to Jeremy’s IT Lab.  This is a free, complete course for the CCNA.  If you like these videos, please subscribe to follow along with the series.  Also, please like and leave a comment, and share the video to help spread this free series of videos.  Thanks for your help.  
 
 
In this video we will continue our studies of OSPF.  In part 1 I introduced the basic functions of OSPF.  In this video I will cover more important OSPF topics which you need to know for the CCNA.   To review, OSPF is item 3.4 on the official exam topics list.  You already know the basics of configuring single area OSPFv2, and you know about the OSPF router ID.  Let’s see what we’ll cover in this video.
 
 
We’ll cover three main topics.   First up OSPF’s metric, which as you know is called cost.  It’s not so difficult to understand, so you should know it well for the exam.  The next topic will be how routers become OSPF neighbors.  I’ve mentioned OSPF neighbors previously, but haven’t actually shown you the actual process.  We’ll go in depth in this video.  Finally I’ll introduce some more OSPF configurations.  Make sure to stick around until the end of today’s video for a bonus question from Boson ExSim.  ExSim is a set of practice exams for the CCNA which I used to prepare for my CCNA and CCNP exams.  I highly recommend them, so make sure to check out that bonus question and follow the link in the video description to get Boson ExSim for yourself.
 
 
Let’s talk about OSPF’s metric.  As you already know, OSPF’s metric is called ‘cost’.  It is automatically calculated based on the bandwidth, which is basically the speed, of the interface.  You can also manually configure the cost of each interface, but I’ll show you that later.  The interface’s cost is calculated by dividing a value called the ‘reference bandwidth’ by the interface’s bandwidth.  The default OSPF reference bandwidth is 100 megabits per second.  So, for example a regular Ethernet interface with a speed of 10 megabits per second has an OSPF cost of 10, because 100 divided by 10 equals 10.  A FastEthernet interface, with a speed of 100 megabits per second, has an OSPF cost of 1, because 100 divided by 100 is 1.  Now, what about a gigabit Ethernet interface, with a speed of 1000 megabits per second?  It has a cost of 1, even though 100 divided by 1000 equals 0.1.  And what about a 10-gig Ethernet interface, with a speed of 10000 megabits per second?  It also has a cost of 1, even though 100 divided by 10000 equals 0.01.  Why is that?  Well, in OSPF all values less than 1 will be converted to 1.  Therefore FastEthernet, Gigabit Ethernet, 10Gig Ethernet, etc. are equal and all have a cost of 1 by default.  Let me show you in the CLI.
 
 
So, here is the same network topology as before.  Let’s check out the cost of R3’s F2/0 interface.  I used the SHOW IP OSPF INTERFACE F2/0 command.  Can you find the cost?  It’s actually displayed in two places.  Here and here.  As I said, the default cost of a FastEthernet interface is 1, because it has a speed of 100 megabits per second and the reference bandwidth is 100 megabits per second by default.  
 
 
Now let’s check out the default OSPF cost on R3’s G0/0 interface.  I entered SHOW IP OSPF INTERFACE G0/0, and as you can see the cost here is 1 as well.  
 
 
Clearly the default situation is not ideal.  Fortunately, you can change this.  You can, and should, change the reference bandwidth with this command, from OSPF configuration mode.  AUTO-COST REFERENCE-BANDWIDTH, followed by the reference bandwidth in megabits per second.  
 
 
Let’s take a look at that command.  As I showed in the previous slide, the reference bandwidth is configured in megabits per second.  I configured 100,000, so what will the cost of FastEthernet and Gigabit Ethernet interfaces be?  100,000 divided by 100 is 1000, so that’s the cost of a FastEthernet interface.  How about Gigabit Ethernet?   100,000 divided by 1000 is 100, so that’s the cost of a Gigabit Ethernet interface.  Why configure such a large number for the reference bandwidth?  Well, you should configure a reference bandwidth greater than the fastest links in your network to allow for future upgrades.  The 100,000 megabits per second I configured as the reference bandwidth is equal to a 100 gigabit per second interface, which is 100 times faster than the fastest interfaces in this network, regular gigabit ethernet.  Finally, notice this message that is displayed when you configure the reference bandwidth.  ‘Please ensure reference bandwidth is consistent across all routers.’  So, to provide a consistent cost for each interface bandwidth across the network, you should configure the same reference bandwidth on all OSPF routers in the network.
 
 
Okay, I set the same OSPF reference bandwidth of 100 gigabits per second on all of the routers.  The OSPF cost to a destination is the total cost of the ‘outgoing’ or ‘exit’ interfaces.  This is just like spanning tree cost.  For example, R1’s cost to reach 192.168.4.0/24 is what?  To reach 192.168.4.0, a packet would exit R1’s G0/0, R2’s G1/0, and R4’s G1/0.  So that’s 100 plus 100 plus 100, for a total cost of 300.  We’ll check R1’s routing table soon, but one more thing.  Loopback interfaces have a cost of 1.  So, what is R1’s cost to reach 2.2.2.2, which is R2’s loopback0 interface?  To reach 2.2.2.2, the packet must exit R1’s G0/0 and R2’s loopback0.  Now, it doesn’t actually exit any physical interface to reach the virtual loopback interface, but the cost of 1 is added to the metric.  So, R1’s cost to reach 2.2.2.2 is 101.
 
 
Here is R1’s routing table before changing the reference bandwidth on all of the routers, so they all have the default reference bandwidth of 100 megabits per second.  Notice that it has two routes to 192.168.4.0, one via R2 and one via R3.  Even though the connection between R3 and R4 is a slower FastEthernet connection, it has the same cost of 1 as the gigabit Ethernet interfaces.
 
And here is R1’s routing table after changing the reference bandwidth of each router to 100,000 megabits per second.  Now R1 only inserts one route to 192.168.4.0 in the routing table, and the cost is 300 as we calculated before.  Notice the cost to 2.2.2.2 is 101, like we also calculated before.  
 
Now let me introduce how to manually configure the OSPF cost of an interface.  The command is IP OSPF COST, followed by the cost you want to configure.  You configure this directly on the interface, and this cost will take priority over the auto-calculated cost.  For example, I configured the cost of R1’s G0/0 interface as 10,000, and now you can see the cost is 10,000 instead of 100.  
 
One more option to change the OSPF cost of an interface is to change the bandwidth of the interface with the BANDWIDTH command.  To review, the formula to calculate OSPF cost is reference bandwidth divideded by the interface bandwidth.  I showed you how to change the reference bandwidth, but you can also change the interface bandwidth.  Now, I have to make clear the difference between interface ‘speed’ and ‘bandwidth’.  Although the bandwidth matches the interface speed by default, changing the interface bandwidth doesn’t actually change the speed at which the interface operates.  The bandwidth is just a value that is used to calculate OSPF cost, EIGRP metric, etc.  To change the speed at which the interface operates, use the SPEED command.  This is how you actually change the speed at which the interface physically sends data.  If you change the bandwidth of a gigabit Ethernet interface to 100 megabits per second, it will still operate at 1 gigabit per second.  However, for the purpose of OSPF’s cost calculation, the bandwidth of 100 megabits per second will be used.  Because the bandwidth value is used in other calculations, not just the OSPF cost, it is not recommended to change this value to alter the interface’s OSPF cost.    It is recommended that you change the reference bandwidth, and then use the ip ospf cost command to change the cost of individual interfaces if you want.  However, if you want to change the bandwidth of the interface, here is the command.  BANDWIDTH, followed by the bandwidth in kilobits per second.  Note that this is different than the reference bandwidth, which is entered in megabits per second.  The interface bandwidth command is entered in kilobits per second.  Before you enter any command like this, I highly recommend using the question mark to check the units the command is entered in.  For example commands involving time, some are entered in seconds, some are entered in minutes.  For commands involving speed, some are entered in kilobits, some are entered in megabits, etc.  Always check to make sure you’re entering the correct units.
 
Let’s summarize.  There are three ways to modify the OSPF cost.  First is to change the reference bandwidth.  The command is AUTO-COST REFERENCE-BANDWIDTH and then the reference bandwidth in megabits per second, entered in OSPF config mode.  Next is to manually configure the OSPF cost of the interface with the command IP OSPF COST, entered in interface config mode.  Finally you can also change the interface bandwidth, although this isn’t recommended.  The command is BANDWIDTH, followed by the bandwidth in kilobits per second, entered in interface config mode.  I already showed you the SHOW IP OSPF INTERFACE command, but here’s a quicker way to check the OSPF cost of each interface.  SHOW IP OSPF INTERFACE BRIEF gives a convenient overview of each OSPF-enabled interface on the router.  Okay, let’s move on to the next topic.
 
This is another very important topic in OSPF, OSPF neighbors.  Making sure that routers successfully become OSPF neighbors is the main task in configuring and troubleshooting OSPF.  Once routers become neighbors, they automatically do the work of sharing network information, calculating routes, etc.  So, you just have to make sure that OSPF is activated on the correct interfaces, and that the proper conditions are met to allow the routers to become neighbors.  Of course, there are more advanced OSPF configurations you can do, but for basic OSPF operation they aren’t necessary.  However, if routers can’t become OSPF neighbors, OSPF can’t operate at all, so this is very important.  So, how do routers become OSPF neighbors?  When OSPF is activated on an interface, the router starts sending OSPF hello messages out of the interface at regular intervals (determined by the hello timer).  These are used to introduce the router to potential OSPF neighbors.  By exchanging hello messages they check that they are compatible to become OSPF neighbors, and then negotiate their neighbor relationship.  By the way, the default hello timer is 10 seconds on an Ethernet connection.  Remember this number!  OSPF hello messages are multicast to the IP address 224.0.0.5, which is the multicast address for all OSPF routers.  Do you remember RIP’s multicast address?  It’s 224.0.0.9.  How about EIGRP?  224.0.0.10.  Also, OSPF messages are encapsulated in an IP header, and the ‘protocol’ field of the IP header has a value of 89 to indicate OSPF.  If you need a review of the IP header, go back and watch Day 10 of the course again.  
 
Okay, for OSPF routers to become neighbors they have to go through various neighbor states.  I’ll give a basic overview of each of the neighbor states.  I recommend taking notes for this section.  Although it will be just a basic overview, I’m going to give you a lot of information over the next few slides.  So, let’s assume OSPF is already activated on R2’s G0/0 interface.  Then, OSPF is activated on R1’s G0/0 interface.  It sends an OSPF hello message to 224.0.0.5.  There are more fields in the hello message, but two important ones are R1’s router ID and the neighbor’s router ID.  However, R1 doesn’t know about R2 yet, so the neighbor router ID field is 0.0.0.0.  R1 doesn’t know about any OSPF neighbors yet, so the current neighbor state is Down.  This is the first OSPF neighbor state, ‘Down’.  
 
 
When R2 receives the Hello packet, it will add an entry for R1 to its OSPF neighbor table.  In R2’s neighbor table, the relationship with R1 is now in the Init state.  Note that R1 still doesn’t know about R2, so it will have no entries in its OSPF neighbor table.  Basically, the Init state means that a Hello packet was received, but R2’s own router ID is not in the Hello packet.  R2’s router ID is 2.2.2.2, but the neighbor router ID in R1’s Hello packet is 0.0.0.0.  So, that’s the Init state.
 
 
The next state is the 2-way state.  R2 will send a Hello packet containing the RID of both routers.  R1 will insert R2 into its OSPF neighbor table in the 2-way state.  Then, R1 will send another Hello message, this time containing R2’s RID.  Now both routers are in the 2-way state.
 
 
The 2-way state means the router has received a Hello packet with its own RID in it.  If both routers reach the 2-way state, it means that all of the conditions have been met for them to become OSPF neighbors.  They are now ready to share LSAs to build a common LSDB.  On the other hand, if they fail to reach this 2-way state, you know that you have to troubleshoot and find what’s stopping them from reaching it.  In some network types, a DR (Designated Router) and BDR (Backup Designated Router) will be elected at this point.  I will talk about OSPF network types and DR/BDR elections in Day 28, so don’t worry about them for now.  I just wanted to introduce the terms, DR and BDR.  At this point, the routers are already OSPF neighbors.  Over the next few neighbor states they will share LSAs and form a full OSPF adjacency.  Let’s go to the next neighbor state.
 
After the 2-way state, the two routers will now prepare to exchange information about their LSDB.  Before that, they have to choose which one will start the exchange.  So, they will decide which one will be the Master router and which will be the Slave router.  Note that these are different than the DR and BDR I mentioned in the last slide.  This Master/Slave relationship is only needed for this initial exchange of LSDB information.  They decide which will be the Master and which will be the slave in the Exstart state.  The router with the higher RID will become the Master and initiate the exchange.  The router with the lower RID will become the Slave.  So, in this case R2 will be the master and R1 will be the slave.  To decide the Master and Slave, they exchange DBD (Database Description) packets.  DBD packets are also important in the next state, so I will talk more about them in the next slide.  Basically, the Exstart state is just to prepare for the next state.  R1 sends a DBD packet claiming to be the master.  However R2 corrects R1.  R2 has the higher router ID, and says that it will be the master.
 
 
In the next state, the Exchange state, the routers exchange DBDs which contain a list of the LSAs in their LSDB.  These DBDs do not include detailed information about the LSAs, just basic information telling their neighbor what LSAs they have.  Basically the routers are telling each other, ‘I have these LSAs’, but they aren’t actually sending the LSAs yet.  The routers compare the information in the DBD they received to the information in their own LSDB to determine which LSAs they must receive from their neighbor.  After exchanging DBDs, they move to the next state.
 
The next state is the Loading state.  In the Loading state, routers send Link State Request (LSR) messages to request that their neighbors send them any LSAs they don’t have.  In the Exchange state they exchanged DBD packets, so they know which LSAs their neighbors are holding.  So, these LSRs are used to request any missing LSAs to make sure each router has the same LSAs.  I’ll just show one side of the exchange, but R2 will also send R1 LSRs for any missing LSAs.  Then the LSAs themselves are sent in Link State Update, LSU, messages.  R2 sends R1 the requested LSAs in an LSU like this.  R1 will also do the same for R2.  Finally, The routers send LSAck messages, another kind of OSPF message, to acknowledge that they received the LSAs.  Now the loading state is complete, and the routers have the same LSDB.  
 
We’ve reached the final OSPF state.  In the Full state, the routers have a full OSPF adjacency and identical LSDBs.  But that doesn’t mean things are complete.  They continue to send and listen for Hello packets, once every 10 seconds by default, to maintain the neighbor adjacency.  To maintain the adjacency another timer called the ‘Dead’ timer is used.  Every time a Hello packet is received, the ‘Dead’ timer, which is 40 seconds by default, is reset.  However, if the Dead timer counts down to 0 and no Hello message is received, the neighbor is removed.  If the neighbors remain up, the routers will continue to share LSAs as the network changes to make sure each router has a complete and accurate map of the network.  This is the main advantage of dynamic routing protocols, the routers automatically react to changes in the network and add, remove, or change routes as necessary.
 
Let’s summarize that process.  First of all, the connection between R1 and R2 comes up, or OSPF is activated on the interfaces, which starts the process.  The first state is the Down state, R1 and R2 don’t know each other yet, but they will send hello packets out of their interfaces.  Let’s assume that R1 sends the first Hello packet.  The Init state is when R2 receives that first Hello packet from R1, but R2’s own router ID isn’t in the packet yet.  In the 2-way state, the routers exchange more hello packets, but R1’s router ID is included in R2’s Hellos, and R2’s router ID is included in R1’s Hellos.  In some kinds of OSPF connections an election for the designated router and backup designated router takes place.  I will talk about this more in Day 28.  Next is the Exstart state.  The routers exchange DBD packets to determine which will be the Master and which will be the Slave.  The Master is the router that starts the DBD exchange in the next state, the Exchange state.  They exchange DBD packets to tell each other about the contents of their LSDB.  The next state is the Loading state.  They use LSRs, Link State Requests, to request LSAs from each other.  The LSAs are sent in LSU, Link State Update, packets.  Finally, LSAck packets are sent to acknowledge that they received the LSAs they requested.  Finally, the routers reach the Full state, and they have a full OSPF adjacency.
 
Do you remember this slide from Day 26?  The three main steps in the process of sharing LSAs and determining the best routes to each destination are 1, become neighbors, 2, exchange LSAs, and 3, calculate the best routes.
 
Looking at this process again, these first three states involve becoming neighbors, these three involve exchanging LSAs to synchronize the LSDB, and then the routers use the metric I taught you to calculate the best route to each destination.  That’s a basic overview of how OSPF works.
 
Also, here’s a quick summary chart of the 5 different OSPF message types.  Notice that they are numbered from 1 to 5, 1 being Hello, 2 being DBD, etc.  I already described the basic purpose of each of these messages, so you can pause the video here or take a screenshot if you want to use this chart to review.
 
After that overview, let’s take another look at a few OSPF show commands, you should understand the output a little better now.  Here is SHOW IP OSPF NEIGHBOR, I entered it on R1.  Note the full state with both neighbors R2 and R3.  Also, both R2 and R3 are DRs.  Again, I will explain DRs in the next video.  Also notice the dead time.  This counts down from 40, but resets as soon as R1 receives a Hello packet from the neighbor.  So, assuming a Hello packet is received every 10 seconds, it should count down to 30, reset to 40, count down to 30, reset to 40, etc.  Now let’s take another look at SHOW IP OSPF INTERFACE, looking at R1’s G0/0 interface.  You can see the default Hello and Dead timers of 10 and 40 here.  Hello due in 7 seconds means that R1 will send a Hello message out of this interface in 7 seconds, as it does once every 10 seconds.  Neighbor count is 1, adjacent neighbor count is 1.  R1 has only 1 neighbor connected to its G0/0 interface, that’s R2.  In the next video I’ll tell you the difference between a neighbor and an adjacent neighbor.  Finally, adjacent neighbor 2.2.2.2, designated router.   As we saw above in SHOW IP OSPF NEIGHBOR, R2 is a designated router.  Again, I’ll talk about that in Day 28, but feel free to do a Google search to learn about it if you’re curious.  Okay, that’s all for OSPF neighbors for today, we will cover a few more details in Day 28.  Let’s move on to look at a little bit more OSPF configuration.
 
 
I already showed you a few new OSPF configurations when we talked about OSPF metric, specifically the AUTO-COST REFERENCE-BANDWIDTH command and IP OSPF COST command.  So, let’s just look at a couple additional configurations.  First off, do you remember the purpose of the NETWORK command?  It’s the same for RIP, EIGRP, and OSPF.  It simply tells the router which interfaces to activate the routing protocol on.  Well, you can actually enable OSPF directly on an interface, without using the NETWORK command.  For example, let’s assume that R1 has no OSPF configurations on it yet.  Here’s how to enable OSPF on the interfaces.  You can activate OSPF directly on an interface with this command: IP OSPF, followed by the process ID, then AREA, and the area ID.  Note that this is done from interface configuration mode.  Now OSPF is enabled on those interfaces and I haven’t even entered OSPF configuration mode.  Next, another method to configure passive interfaces.  Can you see the difference?  You can configure all of the router’s interfaces to be OSPF passive interfaces by default with the command PASSIVE-INTERFACE DEFAULT.  Then, you can use the command NO PASSIVE-INTERFACE to remove that only from specific interfaces.  This is simply another way to configure passive interfaces.  Depending on the number of passive interfaces you need to configure, this method might be faster, or perhaps the normal method is faster.  Either way, the effect is the same.
 
If you configure OSPF directly on the interfaces, you’ll see slightly different output from SHOW IP PROTOCOLS.  The ‘routing for networks’ section is empty, and instead the interfaces you activated OSPF on are displayed here, ‘routing on interfaces configured explicitly’.  The rest of the output is the same, however.  
 
Before moving on to today’s quiz, let’s review what we covered.  First up I showed you OSPF’s metric, called cost.  By default it is automatically calculated by dividing the reference bandwidth by the actual bandwidth of the interface.  However, if the result is a value less than 1, it is converted to 1.  The default reference bandwidth is 100, so anything equal to or faster than 100 megabits per second has an equal cost of 1.  You can modify the reference bandwidth with the AUTO-COST REFERENCE-BANDWIDTH command.  You can also manually configure the cost of an interface with the IP OSPF COST command.  One more option to modify an interface’s cost is to change the bandwidth with the BANDWIDTH command, although this isn’t the recommended method.  Finally, a route’s metric is the total cost of the outgoing interfaces in the route.
 
Next we studied the process routers use to become OSPF neighbors.  Here’s the summary diagram.  This is probably the most difficult section of this lecture.  I recommend watching it a few times, and perhaps doing a google search for ‘ospf neighbor states’ to learn more about the process.
 
Finally I introduced a couple more OSPF configurations.  Instead of using the NETWORK command, you can activate OSPF directly on an interface with this command.  As an alternative method of configuring passive interfaces, you can configure all interfaces as passive with the PASSIVE-INTERFACE DEFAULT command, and then only make specific interfaces active after.  Make sure to watch until the end of today’s quiz for a bonus question from Boson ExSim for CCNA, a set of practice exams for the CCNA and the best tool to get ready for the real CCNA exam.  Okay, let’s go on to quiz question 1.
 
Put the OSPF neighbor states in the correct order.  Here are the neighbor states, order them from 1 to 7.  Pause the video now to think about your answer.
 
Here’s the answer.  Down, Init, 2-way, Exstart, Exchange, Loading, and Full.  A full explanation of each state would take too long, so go back in the video if you don’t remember the order and purpose of each state.  Let’s go to question 2.
 
Which statement about OSPF’s default cost is correct?  a) All interfaces have the same cost.  b) Ethernet and FastEthernet interfaces have the same cost.  c) FastEthernet, Gigabit Ethernet, and 10Gig Ethernet interfaces have the same cost.  And d) Ethernet, FastEthernet, Gigabit Ethernet, and 10Gig Ethernet interfaces have the same cost.  Pause the video to think about the answer.
 
The answer is C, FastEthernet, Gigabit Ethernet, and 10Gig Ethernet interfaces have the same cost by default.  The cost is calculated by dividing the reference bandwidth by the interface bandwidth.  The default reference bandwidth is 100 megabits per second, so a FastEthernet interface has a cost of 1.  However, anything faster than that will have a cost of 1 as well, because all values less than 1 are converted to 1.  Let’s go to question 3.
 
In which OSPF neighbor state are the Master and Slave roles decided?  A, Exstart.  B, 2-way.  C, Exchange.  Or D, Loading.  Pause the video to think about the answer.
 
The answer is A, Exstart.  A Master and Slave need to be decided in the Exstart state.  The Master is the router that will start the Database Description, DBD, exchange in the following state, the Exchange state, which is option C.  In option B, 2-way, a designated router and backup designated router are selected in some cases, but not a Master and Slave.  In D, the Loading state, LSRs, LSUs, and LSAcks are exchanged, but a Master and Slave are not decided.  Let’s go to question 4.
 
Which of these commands can be used to make a FastEthernet interface have an OSPF cost of 100?  A, AUTO-COST REFERENCE-BANDWIDTH 100. B, 1000. C, 10,000. Or D, 100,000.  Pause the video to think about your answer.
 
The answer is C, AUTO-COST REFERENCE-BANDWIDTH 10,000.  Once again, the cost is calculated by dividing the reference bandwidth by the interface bandwidth.  A FastEthernet interface has a bandwidth of 100 megabits per second.  10,000 divided by 100 equals 100, so you should set the reference bandwidth to 10,000.  Let’s go to question 5.
 
What are the default OSPF Hello / Dead timers on an Ethernet connection?  All times are in seconds.  A, Hello, 2 seconds, Dead 20 seconds.  B, Hello 10 seconds, Dead 40 seconds.  C, Hello 30 seconds, Dead 120 seconds.  Or D, Hello 60 seconds, Dead 180 seconds.  Pause the video to think about your answer.
 
The answer is B, the default Hello timer on an Ethernet connection is 10 seconds and the default Dead timer is 40 seconds.  Now, I haven’t mentioned this in this video, but for some other kinds of connections the default OSPF timers are actually 30 and 120, as in option C.  However, for Ethernet connections the defaults are 10 and 40.  I’ll talk about some other kinds of connections in Day 28.  Okay, that’s all for the quiz.  Let’s take a look at a bonus question from Boson ExSim for CCNA.
 
There are supplementary materials for this video.    There is a flashcard deck to use with the software ‘Anki’.   There will also be a packet tracer practice lab so you can get some hands-on practice.  That will be in the next video.  Sign up for my mailing list via the link in the description, and I’ll send you all of the flashcards and packet tracer lab files for the course.  
 
 
Before finishing today’s video I want to thank my JCNP-level channel members.  Thank you to Marko, Florian, Daming, Venkatesh, Kone, Joshua, Jhilmar, Samil, Ed, Value, Magrathea, Justin, John, funnydart, Scott, Hassan, Gerrard, Tibi, Joyce, Marek, Velvijaykum, C Mohd, Johan, Mark, Miguel, Yousif, Sidi, Boson Software, Charlesetta, Devin, Lito, Mike, Yonatan, and Vance.  Sorry if I pronounced your name incorrectly, but thank you so much for your support.  One of you is still displaying as Channel failed to load, if this is you please let me know and I’ll see if YouTube can fix it.  This is the list of JCNP-level channel members at the time of recording by the way, August 11th 2020.  If you signed up recently and your name isn’t on here don’t worry, you’ll be in future videos.
 
 
Thank you for watching.  Please subscribe to the channel, like the video, leave a comment, and share the video with anyone else studying for the CCNA.  If you want to leave a tip, check the links in the description.  I'm also a Brave verified publisher and accept BAT, or Basic Attention Token, tips via the Brave browser.  That's all for now.gigabit per second interface, which is 100
times faster than the fastest interfaces in

77
00:05:08,280 --> 00:05:11,210
this network, regular gigabit ethernet.

78
00:05:11,210 --> 00:05:15,980
Finally, notice this message that is displayed
when you configure the reference bandwidth.

79
00:05:15,980 --> 00:05:20,780
‘Please ensure reference bandwidth is consistent
across all routers.’

80
00:05:20,780 --> 00:05:25,901
So, to provide a consistent cost for each
interface bandwidth across the network, you

81
00:05:25,901 --> 00:05:30,530
should configure the same reference bandwidth
on all OSPF routers in the network.

82
00:05:30,530 --> 00:05:38,500
Okay, I set the same OSPF reference bandwidth
of 100 gigabits per second on all of the routers.

83
00:05:38,500 --> 00:05:44,430
The OSPF cost to a destination is the total
cost of the ‘outgoing’ or ‘exit’ interfaces.

84
00:05:44,430 --> 00:05:47,280
This is just like spanning tree cost.

85
00:05:47,280 --> 00:05:54,420
For example, R1’s cost to reach 192.168.4.0/24
is what?

86
00:05:54,420 --> 00:06:05,120
To reach 192.168.4.0, a packet would exit
R1’s G0/0, R2’s G1/0, and R4’s G1/0.

87
00:06:05,120 --> 00:06:10,610
So that’s 100 plus 100 plus 100, for a total
cost of 300.

88
00:06:10,610 --> 00:06:14,620
We’ll check R1’s routing table soon, but
one more thing.

89
00:06:14,620 --> 00:06:17,460
Loopback interfaces have a cost of 1.

90
00:06:17,460 --> 00:06:25,520
So, what is R1’s cost to reach 2.2.2.2,
which is R2’s loopback0 interface?

91
00:06:25,520 --> 00:06:32,690
To reach 2.2.2.2, the packet must exit R1’s
G0/0 and R2’s loopback0.

92
00:06:32,690 --> 00:06:38,410
Now, it doesn’t actually exit any physical
interface to reach the virtual loopback interface,

93
00:06:38,410 --> 00:06:40,640
but the cost of 1 is added to the metric.

94
00:06:40,640 --> 00:06:47,150
So, R1’s cost to reach 2.2.2.2 is 101.

95
00:06:47,150 --> 00:06:52,220
Here is R1’s routing table before changing
the reference bandwidth on all of the routers,

96
00:06:52,220 --> 00:06:57,100
so they all have the default reference bandwidth
of 100 megabits per second.

97
00:06:57,100 --> 00:07:04,930
Notice that it has two routes to 192.168.4.0,
one via R2 and one via R3.

98
00:07:04,930 --> 00:07:09,511
Even though the connection between R3 and
R4 is a slower FastEthernet connection, it

99
00:07:09,511 --> 00:07:14,830
has the same cost of 1 as the gigabit Ethernet
interfaces.

100
00:07:14,830 --> 00:07:19,470
And here is R1’s routing table after changing
the reference bandwidth of each router to

101
00:07:19,470 --> 00:07:22,360
100,000 megabits per second.

102
00:07:22,360 --> 00:07:29,170
Now R1 only inserts one route to 192.168.4.0
in the routing table, and the cost is 300

103
00:07:29,170 --> 00:07:31,680
as we calculated before.

104
00:07:31,680 --> 00:07:38,720
Notice the cost to 2.2.2.2 is 101, like we
also calculated before.

105
00:07:38,720 --> 00:07:43,330
Now let me introduce how to manually configure
the OSPF cost of an interface.

106
00:07:43,330 --> 00:07:49,280
The command is IP OSPF COST, followed by the
cost you want to configure.

107
00:07:49,280 --> 00:07:53,430
You configure this directly on the interface,
and this cost will take priority over the

108
00:07:53,430 --> 00:07:55,740
auto-calculated cost.

109
00:07:55,740 --> 00:08:01,270
For example, I configured the cost of R1’s
G0/0 interface as 10,000, and now you can

110
00:08:01,270 --> 00:08:06,170
see the cost is 10,000 instead of 100.

111
00:08:06,170 --> 00:08:10,550
One more option to change the OSPF cost of
an interface is to change the bandwidth of

112
00:08:10,550 --> 00:08:13,860
the interface with the BANDWIDTH command.

113
00:08:13,860 --> 00:08:19,580
To review, the formula to calculate OSPF cost
is reference bandwidth divideded by the interface

114
00:08:19,580 --> 00:08:20,580
bandwidth.

115
00:08:20,580 --> 00:08:25,960
I showed you how to change the reference bandwidth,
but you can also change the interface bandwidth.

116
00:08:25,960 --> 00:08:31,580
Now, I have to make clear the difference between
interface ‘speed’ and ‘bandwidth’.

117
00:08:31,580 --> 00:08:36,029
Although the bandwidth matches the interface
speed by default, changing the interface bandwidth

118
00:08:36,029 --> 00:08:40,539
doesn’t actually change the speed at which
the interface operates.

119
00:08:40,539 --> 00:08:47,420
The bandwidth is just a value that is used
to calculate OSPF cost, EIGRP metric, etc.

120
00:08:47,420 --> 00:08:52,329
To change the speed at which the interface
operates, use the SPEED command.

121
00:08:52,329 --> 00:08:57,279
This is how you actually change the speed
at which the interface physically sends data.

122
00:08:57,279 --> 00:09:02,199
If you change the bandwidth of a gigabit Ethernet
interface to 100 megabits per second, it will

123
00:09:02,199 --> 00:09:04,630
still operate at 1 gigabit per second.

124
00:09:04,630 --> 00:09:09,959
However, for the purpose of OSPF’s cost
calculation, the bandwidth of 100 megabits

125
00:09:09,959 --> 00:09:12,649
per second will be used.

126
00:09:12,649 --> 00:09:17,569
Because the bandwidth value is used in other
calculations, not just the OSPF cost, it is

127
00:09:17,569 --> 00:09:22,980
not recommended to change this value to alter
the interface’s OSPF cost.

128
00:09:22,980 --> 00:09:27,910
It is recommended that you change the reference
bandwidth, and then use the ip ospf cost command

129
00:09:27,910 --> 00:09:31,120
to change the cost of individual interfaces
if you want.

130
00:09:31,120 --> 00:09:36,009
However, if you want to change the bandwidth
of the interface, here is the command.

131
00:09:36,009 --> 00:09:40,389
BANDWIDTH, followed by the bandwidth in kilobits
per second.

132
00:09:40,389 --> 00:09:43,839
Note that this is different than the reference
bandwidth, which is entered in megabits per

133
00:09:43,839 --> 00:09:45,189
second.

134
00:09:45,189 --> 00:09:49,480
The interface bandwidth command is entered
in kilobits per second.

135
00:09:49,480 --> 00:09:53,380
Before you enter any command like this, I
highly recommend using the question mark to

136
00:09:53,380 --> 00:09:55,990
check the units the command is entered in.

137
00:09:55,990 --> 00:10:00,851
For example commands involving time, some
are entered in seconds, some are entered in

138
00:10:00,851 --> 00:10:02,230
minutes.

139
00:10:02,230 --> 00:10:07,440
For commands involving speed, some are entered
in kilobits, some are entered in megabits,

140
00:10:07,440 --> 00:10:08,459
etc.

141
00:10:08,459 --> 00:10:11,529
Always check to make sure you’re entering
the correct units.

142
00:10:11,529 --> 00:10:13,769
Let’s summarize.

143
00:10:13,769 --> 00:10:17,300
There are three ways to modify the OSPF cost.

144
00:10:17,300 --> 00:10:19,759
First is to change the reference bandwidth.

145
00:10:19,759 --> 00:10:24,519
The command is AUTO-COST REFERENCE-BANDWIDTH
and then the reference bandwidth in megabits

146
00:10:24,519 --> 00:10:28,490
per second, entered in OSPF config mode.

147
00:10:28,490 --> 00:10:32,990
Next is to manually configure the OSPF cost
of the interface with the command IP OSPF

148
00:10:32,990 --> 00:10:37,040
COST, entered in interface config mode.

149
00:10:37,040 --> 00:10:41,440
Finally you can also change the interface
bandwidth, although this isn’t recommended.

150
00:10:41,440 --> 00:10:46,230
The command is BANDWIDTH, followed by the
bandwidth in kilobits per second, entered

151
00:10:46,230 --> 00:10:47,899
in interface config mode.

152
00:10:47,899 --> 00:10:53,529
I already showed you the SHOW IP OSPF INTERFACE
command, but here’s a quicker way to check

153
00:10:53,529 --> 00:10:56,940
the OSPF cost of each interface.

154
00:10:56,940 --> 00:11:02,880
SHOW IP OSPF INTERFACE BRIEF gives a convenient
overview of each OSPF-enabled interface on

155
00:11:02,880 --> 00:11:03,880
the router.

156
00:11:03,880 --> 00:11:07,819
Okay, let’s move on to the next topic.

157
00:11:07,819 --> 00:11:12,910
This is another very important topic in OSPF,
OSPF neighbors.

158
00:11:12,910 --> 00:11:17,589
Making sure that routers successfully become
OSPF neighbors is the main task in configuring

159
00:11:17,589 --> 00:11:20,569
and troubleshooting OSPF.

160
00:11:20,569 --> 00:11:24,820
Once routers become neighbors, they automatically
do the work of sharing network information,

161
00:11:24,820 --> 00:11:26,800
calculating routes, etc.

162
00:11:26,800 --> 00:11:31,870
So, you just have to make sure that OSPF is
activated on the correct interfaces, and that

163
00:11:31,870 --> 00:11:36,449
the proper conditions are met to allow the
routers to become neighbors.

164
00:11:36,449 --> 00:11:42,339
Of course, there are more advanced OSPF configurations
you can do, but for basic OSPF operation they

165
00:11:42,339 --> 00:11:43,640
aren’t necessary.

166
00:11:43,640 --> 00:11:49,529
However, if routers can’t become OSPF neighbors,
OSPF can’t operate at all, so this is very

167
00:11:49,529 --> 00:11:50,529
important.

168
00:11:50,529 --> 00:11:54,619
So, how do routers become OSPF neighbors?

169
00:11:54,619 --> 00:12:00,329
When OSPF is activated on an interface, the
router starts sending OSPF hello messages

170
00:12:00,329 --> 00:12:05,290
out of the interface at regular intervals
(determined by the hello timer).

171
00:12:05,290 --> 00:12:09,319
These are used to introduce the router to
potential OSPF neighbors.

172
00:12:09,319 --> 00:12:14,320
By exchanging hello messages they check that
they are compatible to become OSPF neighbors,

173
00:12:14,320 --> 00:12:17,529
and then negotiate their neighbor relationship.

174
00:12:17,529 --> 00:12:21,730
By the way, the default hello timer is 10
seconds on an Ethernet connection.

175
00:12:21,730 --> 00:12:23,210
Remember this number!

176
00:12:23,210 --> 00:12:30,389
OSPF hello messages are multicast to the IP
address 224.0.0.5, which is the multicast

177
00:12:30,389 --> 00:12:33,430
address for all OSPF routers.

178
00:12:33,430 --> 00:12:36,080
Do you remember RIP’s multicast address?

179
00:12:36,080 --> 00:12:39,080
It’s 224.0.0.9.

180
00:12:39,080 --> 00:12:41,000
How about EIGRP?

181
00:12:41,000 --> 00:12:43,780
224.0.0.10.

182
00:12:43,780 --> 00:12:49,180
Also, OSPF messages are encapsulated in an
IP header, and the ‘protocol’ field of

183
00:12:49,190 --> 00:12:53,930
the IP header has a value of 89 to indicate
OSPF.

184
00:12:53,930 --> 00:12:59,290
If you need a review of the IP header, go
back and watch Day 10 of the course again.

185
00:12:59,290 --> 00:13:04,890
Okay, for OSPF routers to become neighbors
they have to go through various neighbor states.

186
00:13:04,890 --> 00:13:08,699
I’ll give a basic overview of each of the
neighbor states.

187
00:13:08,699 --> 00:13:11,709
I recommend taking notes for this section.

188
00:13:11,709 --> 00:13:15,579
Although it will be just a basic overview,
I’m going to give you a lot of information

189
00:13:15,579 --> 00:13:17,250
over the next few slides.

190
00:13:17,250 --> 00:13:23,529
So, let’s assume OSPF is already activated
on R2’s G0/0 interface.

191
00:13:23,529 --> 00:13:28,119
Then, OSPF is activated on R1’s G0/0 interface.

192
00:13:28,119 --> 00:13:33,029
It sends an OSPF hello message to 224.0.0.5.

193
00:13:33,029 --> 00:13:38,160
There are more fields in the hello message,
but two important ones are R1’s router ID

194
00:13:38,160 --> 00:13:39,690
and the neighbor’s router ID.

195
00:13:39,690 --> 00:13:45,870
However, R1 doesn’t know about R2 yet, so
the neighbor router ID field is 0.0.0.0.

196
00:13:45,870 --> 00:13:52,699
R1 doesn’t know about any OSPF neighbors
yet, so the current neighbor state is Down.

197
00:13:52,699 --> 00:13:57,130
This is the first OSPF neighbor state, ‘Down’.

198
00:13:57,130 --> 00:14:03,470
When R2 receives the Hello packet, it will
add an entry for R1 to its OSPF neighbor table.

199
00:14:03,470 --> 00:14:09,050
In R2’s neighbor table, the relationship
with R1 is now in the Init state.

200
00:14:09,050 --> 00:14:13,930
Note that R1 still doesn’t know about R2,
so it will have no entries in its OSPF neighbor

201
00:14:13,930 --> 00:14:15,009
table.

202
00:14:15,009 --> 00:14:20,470
Basically, the Init state means that a Hello
packet was received, but R2’s own router

203
00:14:20,470 --> 00:14:22,879
ID is not in the Hello packet.

204
00:14:22,879 --> 00:14:30,410
R2’s router ID is 2.2.2.2, but the neighbor
router ID in R1’s Hello packet is 0.0.0.0.

205
00:14:30,410 --> 00:14:34,850
So, that’s the Init state.

206
00:14:34,850 --> 00:14:37,170
The next state is the 2-way state.

207
00:14:37,170 --> 00:14:41,670
R2 will send a Hello packet containing the
RID of both routers.

208
00:14:41,670 --> 00:14:46,920
R1 will insert R2 into its OSPF neighbor table
in the 2-way state.

209
00:14:46,920 --> 00:14:53,410
Then, R1 will send another Hello message,
this time containing R2’s RID.

210
00:14:53,410 --> 00:14:57,040
Now both routers are in the 2-way state.

211
00:14:57,040 --> 00:15:03,069
The 2-way state means the router has received
a Hello packet with its own RID in it.

212
00:15:03,069 --> 00:15:06,939
If both routers reach the 2-way state, it
means that all of the conditions have been

213
00:15:06,939 --> 00:15:10,300
met for them to become OSPF neighbors.

214
00:15:10,300 --> 00:15:15,029
They are now ready to share LSAs to build
a common LSDB.

215
00:15:15,029 --> 00:15:19,809
On the other hand, if they fail to reach this
2-way state, you know that you have to troubleshoot

216
00:15:19,809 --> 00:15:22,820
and find what’s stopping them from reaching
it.

217
00:15:22,820 --> 00:15:29,199
In some network types, a DR (Designated Router)
and BDR (Backup Designated Router) will be

218
00:15:29,199 --> 00:15:31,179
elected at this point.

219
00:15:31,179 --> 00:15:37,329
I will talk about OSPF network types and DR/BDR
elections in Day 28, so don’t worry about

220
00:15:37,329 --> 00:15:38,329
them for now.

221
00:15:38,329 --> 00:15:42,600
I just wanted to introduce the terms, DR and
BDR.

222
00:15:42,600 --> 00:15:46,720
At this point, the routers are already OSPF
neighbors.

223
00:15:46,720 --> 00:15:52,130
Over the next few neighbor states they will
share LSAs and form a full OSPF adjacency.

224
00:15:52,130 --> 00:15:56,959
Let’s go to the next neighbor state.

225
00:15:56,959 --> 00:16:00,740
After the 2-way state, the two routers will
now prepare to exchange information about

226
00:16:00,740 --> 00:16:02,970
their LSDB.

227
00:16:02,970 --> 00:16:06,240
Before that, they have to choose which one
will start the exchange.

228
00:16:06,240 --> 00:16:11,269
So, they will decide which one will be the
Master router and which will be the Slave

229
00:16:11,269 --> 00:16:12,730
router.

230
00:16:12,730 --> 00:16:17,709
Note that these are different than the DR
and BDR I mentioned in the last slide.

231
00:16:17,709 --> 00:16:24,319
This Master/Slave relationship is only needed
for this initial exchange of LSDB information.

232
00:16:24,319 --> 00:16:29,939
They decide which will be the Master and which
will be the slave in the Exstart state.

233
00:16:29,939 --> 00:16:35,040
The router with the higher RID will become
the Master and initiate the exchange.

234
00:16:35,040 --> 00:16:38,279
The router with the lower RID will become
the Slave.

235
00:16:38,279 --> 00:16:43,759
So, in this case R2 will be the master and
R1 will be the slave.

236
00:16:43,759 --> 00:16:50,069
To decide the Master and Slave, they exchange
DBD (Database Description) packets.

237
00:16:50,069 --> 00:16:54,610
DBD packets are also important in the next
state, so I will talk more about them in the

238
00:16:54,610 --> 00:16:55,779
next slide.

239
00:16:55,779 --> 00:17:00,660
Basically, the Exstart state is just to prepare
for the next state.

240
00:17:00,660 --> 00:17:04,679
R1 sends a DBD packet claiming to be the master.

241
00:17:04,679 --> 00:17:07,159
However R2 corrects R1.

242
00:17:07,159 --> 00:17:13,589
R2 has the higher router ID, and says that
it will be the master.

243
00:17:13,589 --> 00:17:18,799
In the next state, the Exchange state, the
routers exchange DBDs which contain a list

244
00:17:18,799 --> 00:17:22,159
of the LSAs in their LSDB.

245
00:17:22,159 --> 00:17:27,659
These DBDs do not include detailed information
about the LSAs, just basic information telling

246
00:17:27,659 --> 00:17:31,179
their neighbor what LSAs they have.

247
00:17:31,179 --> 00:17:35,490
Basically the routers are telling each other,
‘I have these LSAs’, but they aren’t

248
00:17:35,490 --> 00:17:38,160
actually sending the LSAs yet.

249
00:17:38,160 --> 00:17:42,320
The routers compare the information in the
DBD they received to the information in their

250
00:17:42,320 --> 00:17:48,100
own LSDB to determine which LSAs they must
receive from their neighbor.

251
00:17:48,100 --> 00:17:53,700
After exchanging DBDs, they move to the next
state.

252
00:17:53,700 --> 00:17:56,549
The next state is the Loading state.

253
00:17:56,549 --> 00:18:02,130
In the Loading state, routers send Link State
Request (LSR) messages to request that their

254
00:18:02,130 --> 00:18:05,690
neighbors send them any LSAs they don’t
have.

255
00:18:05,690 --> 00:18:10,990
In the Exchange state they exchanged DBD packets,
so they know which LSAs their neighbors are

256
00:18:10,990 --> 00:18:11,990
holding.

257
00:18:11,990 --> 00:18:17,390
So, these LSRs are used to request any missing
LSAs to make sure each router has the same

258
00:18:17,390 --> 00:18:18,400
LSAs.

259
00:18:18,400 --> 00:18:24,190
I’ll just show one side of the exchange,
but R2 will also send R1 LSRs for any missing

260
00:18:24,190 --> 00:18:26,340
LSAs.

261
00:18:26,340 --> 00:18:32,130
Then the LSAs themselves are sent in Link
State Update, LSU, messages.

262
00:18:32,130 --> 00:18:36,380
R2 sends R1 the requested LSAs in an LSU like
this.

263
00:18:36,380 --> 00:18:39,510
R1 will also do the same for R2.

264
00:18:39,510 --> 00:18:45,460
Finally, The routers send LSAck messages,
another kind of OSPF message, to acknowledge

265
00:18:45,460 --> 00:18:48,550
that they received the LSAs.

266
00:18:48,550 --> 00:18:52,750
Now the loading state is complete, and the
routers have the same LSDB.

267
00:18:52,750 --> 00:18:56,610
We’ve reached the final OSPF state.

268
00:18:56,610 --> 00:19:03,010
In the Full state, the routers have a full
OSPF adjacency and identical LSDBs.

269
00:19:03,010 --> 00:19:05,500
But that doesn’t mean things are complete.

270
00:19:05,500 --> 00:19:10,100
They continue to send and listen for Hello
packets, once every 10 seconds by default,

271
00:19:10,100 --> 00:19:13,110
to maintain the neighbor adjacency.

272
00:19:13,110 --> 00:19:17,950
To maintain the adjacency another timer called
the ‘Dead’ timer is used.

273
00:19:17,950 --> 00:19:23,000
Every time a Hello packet is received, the
‘Dead’ timer, which is 40 seconds by default,

274
00:19:23,000 --> 00:19:24,210
is reset.

275
00:19:24,210 --> 00:19:29,991
However, if the Dead timer counts down to
0 and no Hello message is received, the neighbor

276
00:19:29,991 --> 00:19:32,760
is removed.

277
00:19:32,760 --> 00:19:37,200
If the neighbors remain up, the routers will
continue to share LSAs as the network changes

278
00:19:37,200 --> 00:19:41,500
to make sure each router has a complete and
accurate map of the network.

279
00:19:41,500 --> 00:19:45,830
This is the main advantage of dynamic routing
protocols, the routers automatically react

280
00:19:45,830 --> 00:19:51,409
to changes in the network and add, remove,
or change routes as necessary.

281
00:19:51,409 --> 00:19:54,740
Let’s summarize that process.

282
00:19:54,740 --> 00:20:00,500
First of all, the connection between R1 and
R2 comes up, or OSPF is activated on the interfaces,

283
00:20:00,500 --> 00:20:03,389
which starts the process.

284
00:20:03,389 --> 00:20:08,399
The first state is the Down state, R1 and
R2 don’t know each other yet, but they will

285
00:20:08,399 --> 00:20:11,010
send hello packets out of their interfaces.

286
00:20:11,010 --> 00:20:15,450
Let’s assume that R1 sends the first Hello
packet.

287
00:20:15,450 --> 00:20:21,280
The Init state is when R2 receives that first
Hello packet from R1, but R2’s own router

288
00:20:21,280 --> 00:20:24,500
ID isn’t in the packet yet.

289
00:20:24,500 --> 00:20:30,340
In the 2-way state, the routers exchange more
hello packets, but R1’s router ID is included

290
00:20:30,340 --> 00:20:37,000
in R2’s Hellos, and R2’s router ID is
included in R1’s Hellos.

291
00:20:37,000 --> 00:20:42,510
In some kinds of OSPF connections an election
for the designated router and backup designated

292
00:20:42,510 --> 00:20:44,610
router takes place.

293
00:20:44,610 --> 00:20:48,429
I will talk about this more in Day 28.

294
00:20:48,429 --> 00:20:50,830
Next is the Exstart state.

295
00:20:50,830 --> 00:20:55,809
The routers exchange DBD packets to determine
which will be the Master and which will be

296
00:20:55,809 --> 00:20:58,039
the Slave.

297
00:20:58,039 --> 00:21:03,539
The Master is the router that starts the DBD
exchange in the next state, the Exchange state.

298
00:21:03,539 --> 00:21:08,380
They exchange DBD packets to tell each other
about the contents of their LSDB.

299
00:21:08,380 --> 00:21:11,850
The next state is the Loading state.

300
00:21:11,850 --> 00:21:18,049
They use LSRs, Link State Requests, to request
LSAs from each other.

301
00:21:18,049 --> 00:21:22,660
The LSAs are sent in LSU, Link State Update,
packets.

302
00:21:22,660 --> 00:21:29,600
Finally, LSAck packets are sent to acknowledge
that they received the LSAs they requested.

303
00:21:29,600 --> 00:21:36,049
Finally, the routers reach the Full state,
and they have a full OSPF adjacency.

304
00:21:36,049 --> 00:21:38,990
Do you remember this slide from Day 26?

305
00:21:38,990 --> 00:21:43,760
The three main steps in the process of sharing
LSAs and determining the best routes to each

306
00:21:43,760 --> 00:21:53,030
destination are 1, become neighbors, 2, exchange
LSAs, and 3, calculate the best routes.

307
00:21:53,030 --> 00:21:57,930
Looking at this process again, these first
three states involve becoming neighbors, these

308
00:21:57,930 --> 00:22:03,230
three involve exchanging LSAs to synchronize
the LSDB, and then the routers use the metric

309
00:22:03,230 --> 00:22:06,480
I taught you to calculate the best route to
each destination.

310
00:22:06,480 --> 00:22:10,190
That’s a basic overview of how OSPF works.

311
00:22:10,190 --> 00:22:16,710
Also, here’s a quick summary chart of the
5 different OSPF message types.

312
00:22:16,710 --> 00:22:23,279
Notice that they are numbered from 1 to 5,
1 being Hello, 2 being DBD, etc.

313
00:22:23,279 --> 00:22:27,740
I already described the basic purpose of each
of these messages, so you can pause the video

314
00:22:27,740 --> 00:22:34,470
here or take a screenshot if you want to use
this chart to review.

315
00:22:34,470 --> 00:22:38,960
After that overview, let’s take another
look at a few OSPF show commands, you should

316
00:22:38,960 --> 00:22:42,250
understand the output a little better now.

317
00:22:42,250 --> 00:22:47,360
Here is SHOW IP OSPF NEIGHBOR, I entered it
on R1.

318
00:22:47,360 --> 00:22:51,140
Note the full state with both neighbors R2
and R3.

319
00:22:51,140 --> 00:22:54,669
Also, both R2 and R3 are DRs.

320
00:22:54,669 --> 00:22:58,780
Again, I will explain DRs in the next video.

321
00:22:58,780 --> 00:23:00,760
Also notice the dead time.

322
00:23:00,760 --> 00:23:06,720
This counts down from 40, but resets as soon
as R1 receives a Hello packet from the neighbor.

323
00:23:06,720 --> 00:23:12,790
So, assuming a Hello packet is received every
10 seconds, it should count down to 30, reset

324
00:23:12,790 --> 00:23:16,950
to 40, count down to 30, reset to 40, etc.

325
00:23:16,950 --> 00:23:25,350
Now let’s take another look at SHOW IP OSPF
INTERFACE, looking at R1’s G0/0 interface.

326
00:23:25,350 --> 00:23:30,610
You can see the default Hello and Dead timers
of 10 and 40 here.

327
00:23:30,610 --> 00:23:35,480
Hello due in 7 seconds means that R1 will
send a Hello message out of this interface

328
00:23:35,480 --> 00:23:40,280
in 7 seconds, as it does once every 10 seconds.

329
00:23:40,280 --> 00:23:43,830
Neighbor count is 1, adjacent neighbor count
is 1.

330
00:23:43,830 --> 00:23:49,640
R1 has only 1 neighbor connected to its G0/0
interface, that’s R2.

331
00:23:49,640 --> 00:23:54,840
In the next video I’ll tell you the difference
between a neighbor and an adjacent neighbor.

332
00:23:54,840 --> 00:24:00,850
Finally, adjacent neighbor 2.2.2.2, designated
router.

333
00:24:00,850 --> 00:24:05,420
As we saw above in SHOW IP OSPF NEIGHBOR,
R2 is a designated router.

334
00:24:05,420 --> 00:24:11,039
Again, I’ll talk about that in Day 28, but
feel free to do a Google search to learn about

335
00:24:11,039 --> 00:24:12,500
it if you’re curious.

336
00:24:12,500 --> 00:24:17,429
Okay, that’s all for OSPF neighbors for
today, we will cover a few more details in

337
00:24:17,429 --> 00:24:18,580
Day 28.

338
00:24:18,580 --> 00:24:23,260
Let’s move on to look at a little bit more
OSPF configuration.

339
00:24:23,260 --> 00:24:30,110
I already showed you a few new OSPF configurations
when we talked about OSPF metric, specifically

340
00:24:30,110 --> 00:24:35,009
the AUTO-COST REFERENCE-BANDWIDTH command
and IP OSPF COST command.

341
00:24:35,009 --> 00:24:40,190
So, let’s just look at a couple additional
configurations.

342
00:24:40,190 --> 00:24:43,470
First off, do you remember the purpose of
the NETWORK command?

343
00:24:43,470 --> 00:24:48,960
It’s the same for RIP, EIGRP, and OSPF.

344
00:24:48,960 --> 00:24:53,320
It simply tells the router which interfaces
to activate the routing protocol on.

345
00:24:53,320 --> 00:24:58,920
Well, you can actually enable OSPF directly
on an interface, without using the NETWORK

346
00:24:58,920 --> 00:25:00,259
command.

347
00:25:00,259 --> 00:25:05,030
For example, let’s assume that R1 has no
OSPF configurations on it yet.

348
00:25:05,030 --> 00:25:09,440
Here’s how to enable OSPF on the interfaces.

349
00:25:09,440 --> 00:25:15,870
You can activate OSPF directly on an interface
with this command: IP OSPF, followed by the

350
00:25:15,870 --> 00:25:20,549
process ID, then AREA, and the area ID.

351
00:25:20,549 --> 00:25:24,149
Note that this is done from interface configuration
mode.

352
00:25:24,149 --> 00:25:29,049
Now OSPF is enabled on those interfaces and
I haven’t even entered OSPF configuration

353
00:25:29,049 --> 00:25:30,090
mode.

354
00:25:30,090 --> 00:25:34,690
Next, another method to configure passive
interfaces.

355
00:25:34,690 --> 00:25:37,080
Can you see the difference?

356
00:25:37,080 --> 00:25:42,169
You can configure all of the router’s interfaces
to be OSPF passive interfaces by default with

357
00:25:42,169 --> 00:25:44,940
the command PASSIVE-INTERFACE DEFAULT.

358
00:25:44,940 --> 00:25:52,559
Then, you can use the command NO PASSIVE-INTERFACE
to remove that only from specific interfaces.

359
00:25:52,559 --> 00:25:55,779
This is simply another way to configure passive
interfaces.

360
00:25:55,779 --> 00:26:00,269
Depending on the number of passive interfaces
you need to configure, this method might be

361
00:26:00,269 --> 00:26:03,159
faster, or perhaps the normal method is faster.

362
00:26:03,159 --> 00:26:07,299
Either way, the effect is the same.

363
00:26:07,299 --> 00:26:12,029
If you configure OSPF directly on the interfaces,
you’ll see slightly different output from

364
00:26:12,029 --> 00:26:14,490
SHOW IP PROTOCOLS.

365
00:26:14,490 --> 00:26:19,259
The ‘routing for networks’ section is
empty, and instead the interfaces you activated

366
00:26:19,259 --> 00:26:25,000
OSPF on are displayed here, ‘routing on
interfaces configured explicitly’.

367
00:26:25,000 --> 00:26:28,100
The rest of the output is the same, however.

368
00:26:28,100 --> 00:26:33,470
Before moving on to today’s quiz, let’s
review what we covered.

369
00:26:33,470 --> 00:26:37,519
First up I showed you OSPF’s metric, called
cost.

370
00:26:37,519 --> 00:26:41,970
By default it is automatically calculated
by dividing the reference bandwidth by the

371
00:26:41,970 --> 00:26:44,120
actual bandwidth of the interface.

372
00:26:44,120 --> 00:26:49,919
However, if the result is a value less than
1, it is converted to 1.

373
00:26:49,919 --> 00:26:54,880
The default reference bandwidth is 100, so
anything equal to or faster than 100 megabits

374
00:26:54,880 --> 00:26:58,899
per second has an equal cost of 1.

375
00:26:58,899 --> 00:27:04,860
You can modify the reference bandwidth with
the AUTO-COST REFERENCE-BANDWIDTH command.

376
00:27:04,860 --> 00:27:11,299
You can also manually configure the cost of
an interface with the IP OSPF COST command.

377
00:27:11,299 --> 00:27:16,101
One more option to modify an interface’s
cost is to change the bandwidth with the BANDWIDTH

378
00:27:16,101 --> 00:27:19,110
command, although this isn’t the recommended
method.

379
00:27:19,110 --> 00:27:25,929
Finally, a route’s metric is the total cost
of the outgoing interfaces in the route.

380
00:27:25,929 --> 00:27:29,269
Next we studied the process routers use to
become OSPF neighbors.

381
00:27:29,269 --> 00:27:32,169
Here’s the summary diagram.

382
00:27:32,169 --> 00:27:35,000
This is probably the most difficult section
of this lecture.

383
00:27:35,000 --> 00:27:40,620
I recommend watching it a few times, and perhaps
doing a google search for ‘ospf neighbor

384
00:27:40,620 --> 00:27:44,929
states’ to learn more about the process.

385
00:27:44,929 --> 00:27:48,990
Finally I introduced a couple more OSPF configurations.

386
00:27:48,990 --> 00:27:53,160
Instead of using the NETWORK command, you
can activate OSPF directly on an interface

387
00:27:53,160 --> 00:27:55,360
with this command.

388
00:27:55,360 --> 00:28:00,039
As an alternative method of configuring passive
interfaces, you can configure all interfaces

389
00:28:00,039 --> 00:28:05,340
as passive with the PASSIVE-INTERFACE DEFAULT
command, and then only make specific interfaces

390
00:28:05,340 --> 00:28:07,840
active after.

391
00:28:07,840 --> 00:28:12,179
Make sure to watch until the end of today’s
quiz for a bonus question from Boson ExSim

392
00:28:12,179 --> 00:28:17,570
for CCNA, a set of practice exams for the
CCNA and the best tool to get ready for the

393
00:28:17,570 --> 00:28:19,129
real CCNA exam.

394
00:28:19,129 --> 00:28:22,620
Okay, let’s go on to quiz question 1.

395
00:28:22,620 --> 00:28:27,240
Put the OSPF neighbor states in the correct
order.

396
00:28:27,240 --> 00:28:31,450
Here are the neighbor states, order them from
1 to 7.

397
00:28:31,450 --> 00:28:38,020
Pause the video now to think about your answer.

398
00:28:38,020 --> 00:28:39,490
Here’s the answer.

399
00:28:39,490 --> 00:28:47,169
Down, Init, 2-way, Exstart, Exchange, Loading,
and Full.

400
00:28:47,169 --> 00:28:51,671
A full explanation of each state would take
too long, so go back in the video if you don’t

401
00:28:51,671 --> 00:28:54,380
remember the order and purpose of each state.

402
00:28:54,380 --> 00:28:58,380
Let’s go to question 2.

403
00:28:58,380 --> 00:29:03,980
Which statement about OSPF’s default cost
is correct? a) All interfaces have the same

404
00:29:03,980 --> 00:29:05,230
cost.

405
00:29:05,230 --> 00:29:09,710
b) Ethernet and FastEthernet interfaces have
the same cost.

406
00:29:09,710 --> 00:29:16,720
c) FastEthernet, Gigabit Ethernet, and 10Gig
Ethernet interfaces have the same cost.

407
00:29:16,720 --> 00:29:22,299
And d) Ethernet, FastEthernet, Gigabit Ethernet,
and 10Gig Ethernet interfaces have the same

408
00:29:22,299 --> 00:29:23,299
cost.

409
00:29:23,299 --> 00:29:29,059
Pause the video to think about the answer.

410
00:29:29,059 --> 00:29:34,169
The answer is C, FastEthernet, Gigabit Ethernet,
and 10Gig Ethernet interfaces have the same

411
00:29:34,169 --> 00:29:36,120
cost by default.

412
00:29:36,120 --> 00:29:41,220
The cost is calculated by dividing the reference
bandwidth by the interface bandwidth.

413
00:29:41,220 --> 00:29:46,330
The default reference bandwidth is 100 megabits
per second, so a FastEthernet interface has

414
00:29:46,330 --> 00:29:47,940
a cost of 1.

415
00:29:47,940 --> 00:29:52,870
However, anything faster than that will have
a cost of 1 as well, because all values less

416
00:29:52,870 --> 00:29:55,269
than 1 are converted to 1.

417
00:29:55,269 --> 00:29:59,190
Let’s go to question 3.

418
00:29:59,190 --> 00:30:03,860
In which OSPF neighbor state are the Master
and Slave roles decided?

419
00:30:03,860 --> 00:30:05,679
A, Exstart.

420
00:30:05,679 --> 00:30:07,500
B, 2-way.

421
00:30:07,500 --> 00:30:09,320
C, Exchange.

422
00:30:09,320 --> 00:30:11,259
Or D, Loading.

423
00:30:11,259 --> 00:30:16,289
Pause the video to think about the answer.

424
00:30:16,289 --> 00:30:18,480
The answer is A, Exstart.

425
00:30:18,480 --> 00:30:23,200
A Master and Slave need to be decided in the
Exstart state.

426
00:30:23,200 --> 00:30:27,720
The Master is the router that will start the
Database Description, DBD, exchange in the

427
00:30:27,720 --> 00:30:35,019
following state, the Exchange state, which
is option C. In option B, 2-way, a designated

428
00:30:35,019 --> 00:30:41,440
router and backup designated router are selected
in some cases, but not a Master and Slave.

429
00:30:41,440 --> 00:30:48,330
In D, the Loading state, LSRs, LSUs, and LSAcks
are exchanged, but a Master and Slave are

430
00:30:48,330 --> 00:30:49,720
not decided.

431
00:30:49,720 --> 00:30:53,720
Let’s go to question 4.

432
00:30:53,720 --> 00:30:58,049
Which of these commands can be used to make
a FastEthernet interface have an OSPF cost

433
00:30:58,049 --> 00:30:59,679
of 100?

434
00:30:59,679 --> 00:31:03,470
A, AUTO-COST REFERENCE-BANDWIDTH 100.

435
00:31:03,470 --> 00:31:05,490
B, 1000.

436
00:31:05,490 --> 00:31:07,509
C, 10,000.

437
00:31:07,509 --> 00:31:10,070
Or D, 100,000.

438
00:31:10,070 --> 00:31:16,440
Pause the video to think about your answer.

439
00:31:16,440 --> 00:31:20,270
The answer is C, AUTO-COST REFERENCE-BANDWIDTH
10,000.

440
00:31:20,270 --> 00:31:26,220
Once again, the cost is calculated by dividing
the reference bandwidth by the interface bandwidth.

441
00:31:26,220 --> 00:31:31,570
A FastEthernet interface has a bandwidth of
100 megabits per second.

442
00:31:31,570 --> 00:31:38,059
10,000 divided by 100 equals 100, so you should
set the reference bandwidth to 10,000.

443
00:31:38,059 --> 00:31:42,789
Let’s go to question 5.

444
00:31:42,789 --> 00:31:47,559
What are the default OSPF Hello / Dead timers
on an Ethernet connection?

445
00:31:47,559 --> 00:31:49,230
All times are in seconds.

446
00:31:49,230 --> 00:31:53,720
A, Hello, 2 seconds, Dead 20 seconds.

447
00:31:53,720 --> 00:31:57,600
B, Hello 10 seconds, Dead 40 seconds.

448
00:31:57,600 --> 00:32:01,970
C, Hello 30 seconds, Dead 120 seconds.

449
00:32:01,970 --> 00:32:06,850
Or D, Hello 60 seconds, Dead 180 seconds.

450
00:32:06,850 --> 00:32:13,159
Pause the video to think about your answer.

451
00:32:13,159 --> 00:32:18,370
The answer is B, the default Hello timer on
an Ethernet connection is 10 seconds and the

452
00:32:18,370 --> 00:32:20,650
default Dead timer is 40 seconds.

453
00:32:20,650 --> 00:32:25,769
Now, I haven’t mentioned this in this video,
but for some other kinds of connections the

454
00:32:25,769 --> 00:32:32,340
default OSPF timers are actually 30 and 120,
as in option C. However, for Ethernet connections

455
00:32:32,340 --> 00:32:34,260
the defaults are 10 and 40.

456
00:32:34,260 --> 00:32:38,220
I’ll talk about some other kinds of connections
in Day 28.

457
00:32:38,220 --> 00:32:40,470
Okay, that’s all for the quiz.

458
00:32:40,470 --> 00:32:45,529
Let’s take a look at a bonus question from
Boson ExSim for CCNA.

459
00:32:45,529 --> 00:32:50,299
Okay, here is today's Boson ExSim practice
question.

460
00:32:50,299 --> 00:32:54,370
You administer the OSPF network shown in the
diagram above.

461
00:32:54,370 --> 00:33:00,200
The AUTO-COST REFERENCE-BANDWIDTH 1000 command
has been issued on every router in the network.

462
00:33:00,200 --> 00:33:04,980
What is the cost of the route from RouterA
to RouterC?

463
00:33:04,980 --> 00:33:07,000
A, 11.

464
00:33:07,000 --> 00:33:08,420
B, 3.

465
00:33:08,420 --> 00:33:09,720
C, 12.

466
00:33:09,720 --> 00:33:10,620
D, 2.

467
00:33:10,620 --> 00:33:13,080
And E, 20.

468
00:33:13,080 --> 00:33:20,000
Pause the video to think about your answer.

469
00:33:20,000 --> 00:33:21,340
Okay, let's check.

470
00:33:21,340 --> 00:33:27,399
So, you set the reference bandwidth to 1000
megabits per second on each router, so that

471
00:33:27,399 --> 00:33:33,279
would mean that these gigabit ethernet connections,
1 gigabit per second, have a cost of 1, because

472
00:33:33,279 --> 00:33:36,950
1000 divided by 1000 equals 1.

473
00:33:36,950 --> 00:33:42,960
On the other hand, these 100 megabit per second
fastethernet interfaces have a cost of 10

474
00:33:42,960 --> 00:33:46,730
because, of course, 1000 divided by 100 is
10.

475
00:33:46,730 --> 00:33:52,279
So, ideally we will avoid any fastethernet
interfaces because they cost 10 times as much

476
00:33:52,279 --> 00:33:54,559
as a gigabitethernet interface.

477
00:33:54,559 --> 00:34:01,360
So, the shortest route without passing through
any fastethernet interfaces is from RouterA

478
00:34:01,360 --> 00:34:04,299
to RouterB, that is a cost of 1.

479
00:34:04,299 --> 00:34:07,779
RouterB to RouterE, plus 1 so 2.

480
00:34:07,779 --> 00:34:10,960
RouterE to RouterC, plus 1 so 3.

481
00:34:10,960 --> 00:34:18,169
So the total cost from RouterA to B to E to
C is 3.

482
00:34:18,169 --> 00:34:19,730
Let's check the answer.

483
00:34:19,730 --> 00:34:22,200
Okay, that is correct.

484
00:34:22,200 --> 00:34:25,260
Here is Boson's explanation, quite detailed.

485
00:34:25,260 --> 00:34:28,200
And they of course show you the diagram with
the same path that I chose.

486
00:34:28,200 --> 00:34:35,770
RouterA to B to E to C. Okay, so you can pause
the video here if you want to read Boson's

487
00:34:35,770 --> 00:34:39,380
explanations.

488
00:34:39,380 --> 00:34:45,139
And they also include some references, or
a reference in this case, to Cisco documentation.

489
00:34:45,139 --> 00:34:48,069
OSPF Design Guide: OSPF Cost.

490
00:34:48,069 --> 00:34:52,330
This Cisco documentation is available free
online, and it's another great study resource.

491
00:34:52,330 --> 00:34:55,619
So I highly recommend checking it out.

492
00:34:55,619 --> 00:35:00,950
Okay, so if you want to get a copy of Boson
ExSim, please follow the link in the video

493
00:35:00,950 --> 00:35:02,140
description.

494
00:35:02,140 --> 00:35:07,880
These are the practice exams I used myself
for both my CCNA and CCNP exams, so I highly

495
00:35:07,880 --> 00:35:08,880
recommend them.

496
00:35:08,880 --> 00:35:13,800
Once again, follow the link in the video description.

497
00:35:13,800 --> 00:35:17,020
There are supplementary materials for this
video.

498
00:35:17,020 --> 00:35:20,730
There is a flashcard deck to use with the
software ‘Anki’.

499
00:35:20,730 --> 00:35:25,830
There will also be a packet tracer practice
lab so you can get some hands-on practice.

500
00:35:25,830 --> 00:35:28,730
That will be in the next video.

501
00:35:28,730 --> 00:35:32,530
Sign up for my mailing list via the link in
the description, and I’ll send you all of

502
00:35:32,530 --> 00:35:38,809
the flashcards and packet tracer lab files
for the course.

503
00:35:38,809 --> 00:35:43,670
Before finishing today’s video I want to
thank my JCNP-level channel members.

504
00:35:43,670 --> 00:35:50,820
Thank you to Marko, Florian, Daming, Venkatesh,
Kone, Joshua, Jhilmar, Samil, Ed, Value, Magrathea,

505
00:35:50,820 --> 00:35:58,770
Justin, John, funnydart, Scott, Hassan, Gerrard,
Tibi, Joyce, Marek, Velvijaykum, C Mohd, Johan,

506
00:35:58,770 --> 00:36:06,100
Mark, Miguel, Yousif, Sidi, Boson Software,
Charlesetta, Devin, Lito, Mike, Yonatan, and

507
00:36:06,100 --> 00:36:07,100
Vance.

508
00:36:07,100 --> 00:36:11,970
Sorry if I pronounced your name incorrectly,
but thank you so much for your support.

509
00:36:11,970 --> 00:36:16,410
One of you is still displaying as Channel
failed to load, if this is you please let

510
00:36:16,410 --> 00:36:20,090
me know and I’ll see if YouTube can fix
it.

511
00:36:20,090 --> 00:36:25,520
This is the list of JCNP-level channel members
at the time of recording by the way, August

512
00:36:25,520 --> 00:36:27,210
11th 2020.

513
00:36:27,210 --> 00:36:31,250
If you signed up recently and your name isn’t
on here don’t worry, you’ll be in future

514
00:36:31,250 --> 00:36:33,880
videos.

515
00:36:33,880 --> 00:36:35,460
Thank you for watching.

516
00:36:35,460 --> 00:36:39,430
Please subscribe to the channel, like the
video, leave a comment, and share the video

517
00:36:39,430 --> 00:36:42,700
with anyone else studying for the CCNA.

518
00:36:42,700 --> 00:36:45,520
If you want to leave a tip, check the links
in the description.

519
00:36:45,520 --> 00:36:51,390
I'm also a Brave verified publisher and accept
BAT, or Basic Attention Token, tips via the

520
00:36:51,390 --> 00:36:52,790
Brave browser.

521
00:36:52,790 --> 00:36:54,140
That's all for now.