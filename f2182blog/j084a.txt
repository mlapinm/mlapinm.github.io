1
00:00:01,040 --> 00:00:07,520
Welcome to Jeremy’s IT Lab. This is a free,&nbsp;
complete course for the CCNA. If you like these&nbsp;&nbsp;

2
00:00:07,520 --> 00:00:12,800
videos, please subscribe to follow along with the&nbsp;
series. Also, please like and leave a comment,&nbsp;&nbsp;

3
00:00:12,800 --> 00:00:16,640
and share the video to help spread this&nbsp;
free series of videos. Thanks for your help.

4
00:00:17,920 --> 00:00:24,000
In this video we will cover NAT, Network Address&nbsp;
Translation. NAT is a very important topic for the&nbsp;&nbsp;

5
00:00:24,000 --> 00:00:30,480
CCNA exam and for real-world network engineering.&nbsp;
NAT is used to translate the source and/or&nbsp;&nbsp;

6
00:00:31,120 --> 00:00:38,720
destination IP address of a packet to a different&nbsp;
IP address. NAT is covered in exam topic 4.1,&nbsp;&nbsp;

7
00:00:38,720 --> 00:00:44,880
which says you must be able to configure and&nbsp;
verify inside source NAT using static and pools.

8
00:00:46,560 --> 00:00:51,680
Here’s what we’ll cover in this video. First,&nbsp;
I’ll talk about private IPv4 addresses.&nbsp;&nbsp;

9
00:00:52,480 --> 00:00:56,240
These are IP addresses which you are&nbsp;
free to use in your internal networks&nbsp;&nbsp;

10
00:00:56,240 --> 00:01:02,880
and which don’t have to be globally unique. Then&nbsp;
I’ll introduce NAT and its purpose. After that&nbsp;&nbsp;

11
00:01:02,880 --> 00:01:08,080
I’ll cover one type of NAT you need to know for&nbsp;
the CCNA, static NAT, and how to configure it.&nbsp;&nbsp;

12
00:01:09,200 --> 00:01:14,480
This video will be part 1 of NAT. I’ve&nbsp;
decided to split NAT up into two videos&nbsp;&nbsp;

13
00:01:14,480 --> 00:01:18,560
instead of one long video, because it’s an&nbsp;
important topic that I don’t want to rush.&nbsp;&nbsp;

14
00:01:19,920 --> 00:01:24,480
So, in Day 45 I will cover some additional&nbsp;
NAT topics you need to know for the CCNA.&nbsp;&nbsp;

15
00:01:25,360 --> 00:01:28,960
As always, watch until the end of the&nbsp;
video for a bonus practice question&nbsp;&nbsp;

16
00:01:28,960 --> 00:01:33,280
from Boson Software’s ExSim, the&nbsp;
best practice exams for the CCNA.

17
00:01:34,480 --> 00:01:37,280
First let me introduce private IPv4 addresses.&nbsp;&nbsp;

18
00:01:38,320 --> 00:01:43,200
This is review from the IPv6 videos in&nbsp;
this course, but IPv4 doesn’t provide&nbsp;&nbsp;

19
00:01:43,200 --> 00:01:46,960
enough addresses for all devices that&nbsp;
need an IP address in the modern world.&nbsp;&nbsp;

20
00:01:48,160 --> 00:01:53,680
The long-term solution to this problem is to&nbsp;
switch to IPv6, but changing networks all over&nbsp;&nbsp;

21
00:01:53,680 --> 00:02:01,440
the world from IPv4 to IPv6 is no simple task. So,&nbsp;
before we switch completely over to IPv6, there&nbsp;&nbsp;

22
00:02:01,440 --> 00:02:06,560
are some short-term solutions to this problem,&nbsp;
which have actually extended the lifespan of IPv4&nbsp;&nbsp;

23
00:02:06,560 --> 00:02:12,160
quite a lot. The first one, which you already&nbsp;
know, is CIDR, Classless Inter-Domain Routing.&nbsp;&nbsp;

24
00:02:13,120 --> 00:02:18,640
With CIDR we can forget about the rigid IPv4&nbsp;
address classes and are free to use any prefix&nbsp;&nbsp;

25
00:02:18,640 --> 00:02:24,640
length with any address, no need to think about&nbsp;
classes. Then there are two other very important&nbsp;&nbsp;

26
00:02:24,640 --> 00:02:33,120
solutions which I will cover in this video.&nbsp;
Private IPv4 addresses and NAT. RFC 1918 specifies&nbsp;&nbsp;

27
00:02:33,120 --> 00:02:39,840
the following IPv4 address ranges as private.&nbsp;
Now, before I show the address ranges, ‘RFC’ means&nbsp;&nbsp;

28
00:02:39,840 --> 00:02:45,200
Request For Comments. These are the documents&nbsp;
that are used to set standards for the Internet.&nbsp;&nbsp;

29
00:02:46,000 --> 00:02:51,520
I’ve mentioned that once or twice before I think,&nbsp;
I just wanted to make it clear. Okay, so the first&nbsp;&nbsp;

30
00:02:51,520 --> 00:03:01,680
private IPv4 address range is 10.0.0.0/8,&nbsp;
which includes 10.0.0.0 to 10.255.255.255.&nbsp;&nbsp;

31
00:03:02,640 --> 00:03:12,720
The second one is 172.16.0.0/12, which&nbsp;
includes 172.16.0.0 to 172.31.255.255.&nbsp;&nbsp;

32
00:03:13,840 --> 00:03:23,200
Finally there is 192.168.0.0/16, which&nbsp;
includes 192.168.0.0 to 192.168.255.255.&nbsp;&nbsp;

33
00:03:23,840 --> 00:03:28,560
You probably recognize these address ranges,&nbsp;
I use them a lot in my course for example&nbsp;&nbsp;

34
00:03:28,560 --> 00:03:33,520
networks and labs. So, they specified&nbsp;
one range of addresses from class A,&nbsp;&nbsp;

35
00:03:34,320 --> 00:03:40,640
one range of addresses from class B, and one range&nbsp;
of addresses from class C. Now, I’m sure some of&nbsp;&nbsp;

36
00:03:40,640 --> 00:03:48,160
you will be thinking ‘why is the class B range&nbsp;
/12? Isn’t class B /16? And why is the class C&nbsp;&nbsp;

37
00:03:48,160 --> 00:03:55,920
range /16? Isn’t class C /24’? The answer to those&nbsp;
questions is that these are simply address ranges.&nbsp;&nbsp;

38
00:03:56,480 --> 00:04:07,040
172.16.0.0/12 just specifies a range of&nbsp;
addresses from 172.16.0.0 to 172.31.255.255,&nbsp;&nbsp;

39
00:04:07,600 --> 00:04:11,840
and you’re free to divide up those addresses&nbsp;
however you want and use them in your network.&nbsp;&nbsp;

40
00:04:13,440 --> 00:04:23,920
Likewise, 192.168.0.0/16 just specifies a range&nbsp;
of addresses from 192.168.0.0 to 192.168.255.255,&nbsp;&nbsp;

41
00:04:24,480 --> 00:04:27,840
and once again you are free to divide&nbsp;
up those addresses in any way you want.&nbsp;&nbsp;

42
00:04:28,960 --> 00:04:35,040
In any case, don’t be too attached to the concept&nbsp;
of address classes. In modern networks everyone&nbsp;&nbsp;

43
00:04:35,040 --> 00:04:41,920
uses CIDR, Classless Inter-Domain Routing,&nbsp;
so address classes are a thing of the past.

44
00:04:41,920 --> 00:04:47,600
So, those are the private IPv4 address ranges. You&nbsp;
are free to use these addresses in your networks,&nbsp;&nbsp;

45
00:04:47,600 --> 00:04:54,000
they don’t have to be globally unique. In fact, if&nbsp;
you’re watching this video from a PC in your home,&nbsp;&nbsp;

46
00:04:54,000 --> 00:04:58,640
it’s almost certainly using a&nbsp;
private IP address. For example,&nbsp;&nbsp;

47
00:04:58,640 --> 00:05:07,520
my PC has the IP address 192.168.0.167, and&nbsp;
its default gateway, my router, is 192.168.0.1.&nbsp;&nbsp;

48
00:05:08,640 --> 00:05:13,680
Your PC might have the exact same IP address as&nbsp;
mine, or at least it might be in the same subnet,&nbsp;&nbsp;

49
00:05:13,680 --> 00:05:21,680
192.168.0.0/24. Now, here’s an important point.&nbsp;
Private IP addresses cannot be used over the&nbsp;&nbsp;

50
00:05:21,680 --> 00:05:28,880
Internet. Your ISP, Internet Service Provider,&nbsp;
will drop traffic to or from private IP addresses.&nbsp;&nbsp;

51
00:05:29,840 --> 00:05:34,000
You may be wondering, if the private IP&nbsp;
addresses can’t be used over the Internet,&nbsp;&nbsp;

52
00:05:34,000 --> 00:05:40,000
how can I access the Internet from my PC?&nbsp;
That’s where NAT comes in. Let me demonstrate.&nbsp;&nbsp;

53
00:05:40,880 --> 00:05:50,320
On the left is my PC, 192.168.0.167, connected&nbsp;
to my router, 192.168.0.1. Somewhere across the&nbsp;&nbsp;

54
00:05:50,320 --> 00:05:55,040
Internet there is another PC connected to a&nbsp;
router, and they have the same IP addresses.&nbsp;&nbsp;

55
00:05:55,760 --> 00:06:01,360
Without NAT, there are two big problems here.&nbsp;
The first is that there are duplicate addresses.&nbsp;&nbsp;

56
00:06:02,240 --> 00:06:07,920
If there is a packet traveling over the Internet&nbsp;
with the destination address 192.168.0.167,&nbsp;&nbsp;

57
00:06:08,560 --> 00:06:13,440
which PC will it go to? My PC? Or the&nbsp;
other one with the same IP address?&nbsp;&nbsp;

58
00:06:14,240 --> 00:06:19,920
So, that’s a problem. Another problem is that&nbsp;
private IP addresses can’t even be used over the&nbsp;&nbsp;

59
00:06:19,920 --> 00:06:26,000
Internet, so the PCs can’t access the Internet.&nbsp;
However NAT solves both of these problems for us.&nbsp;&nbsp;

60
00:06:27,280 --> 00:06:31,920
Although the PCs and the routers’ internal&nbsp;
interfaces have identical private addresses,&nbsp;&nbsp;

61
00:06:32,560 --> 00:06:39,440
perhaps my router’s external interface has the&nbsp;
public IP address 203.0.113.1, and the other&nbsp;&nbsp;

62
00:06:39,440 --> 00:06:47,200
router has the public IP address 203.0.113.5. This&nbsp;
is important. Although the private IP addresses&nbsp;&nbsp;

63
00:06:47,200 --> 00:06:53,520
aren’t unique, the public IP addresses must be&nbsp;
unique. When my PC needs to reach destinations&nbsp;&nbsp;

64
00:06:53,520 --> 00:06:59,680
over the Internet, NAT will allow it to borrow the&nbsp;
unique public IP address of my router, or another&nbsp;&nbsp;

65
00:06:59,680 --> 00:07:06,560
public IP address I have configured for NAT. In&nbsp;
fact, not just my PC, but all other devices in my&nbsp;&nbsp;

66
00:07:06,560 --> 00:07:11,840
home can use that same single public IP address&nbsp;
to access the Internet, all at the same time.&nbsp;&nbsp;

67
00:07:12,960 --> 00:07:19,520
So my PC can borrow my router’s IP address and&nbsp;
communicate over the Internet using 203.0.113.1,&nbsp;&nbsp;

68
00:07:20,400 --> 00:07:27,120
and the other PC can communicate over&nbsp;
the Internet using 203.0.113.5. Anyway,&nbsp;&nbsp;

69
00:07:27,120 --> 00:07:35,200
I’ll explain NAT next. Regarding private IP&nbsp;
addresses, remember the RFC number 1918, remember&nbsp;&nbsp;

70
00:07:35,200 --> 00:07:40,480
the three private IP address ranges, and remember&nbsp;
that they can’t be used over the Internet.

71
00:07:42,320 --> 00:07:48,800
So let’s talk about NAT. NAT is used to modify the&nbsp;
source and/or destination IP addresses of packets.&nbsp;&nbsp;

72
00:07:49,680 --> 00:07:55,040
And why would you want to do that? Well there are&nbsp;
various reasons to use NAT, but the most common&nbsp;&nbsp;

73
00:07:55,040 --> 00:08:00,720
reason is to allow hosts with private IP addresses&nbsp;
to communicate with other hosts over the Internet,&nbsp;&nbsp;

74
00:08:00,720 --> 00:08:06,240
as I introduced in the previous That is in&nbsp;
addition to allowing multiple internal hosts&nbsp;&nbsp;

75
00:08:06,240 --> 00:08:11,840
to share a single public IP address, but&nbsp;
I’ll demonstrate how that works in day 45.&nbsp;&nbsp;

76
00:08:12,480 --> 00:08:17,920
There are also various types of NAT, but for the&nbsp;
CCNA you have to understand source NAT and how&nbsp;&nbsp;

77
00:08:17,920 --> 00:08:23,440
to configure it on Cisco routers. Let me give&nbsp;
a brief demonstration of how source NAT works.&nbsp;&nbsp;

78
00:08:24,400 --> 00:08:31,920
PC1’s IP address is 192.168.0.167, and it wants&nbsp;
to communicate with the server at 8.8.8.8.&nbsp;&nbsp;

79
00:08:33,040 --> 00:08:40,560
So, it creates a packet with source IP&nbsp;
192.168.0.167 and destination 8.8.8.8.&nbsp;&nbsp;

80
00:08:41,600 --> 00:08:48,320
It sends the packet to its default gateway, R1.&nbsp;
This is where the NAT happens. R1 translates&nbsp;&nbsp;

81
00:08:48,320 --> 00:08:57,040
the source IP address from 192.168.0.167 to&nbsp;
203.0.113.1, the IP address of its external&nbsp;&nbsp;

82
00:08:57,040 --> 00:09:02,720
interface. That’s why it’s called ‘source’ NAT,&nbsp;
because it translates the source IP address.&nbsp;&nbsp;

83
00:09:03,920 --> 00:09:10,160
Note that, in this case R1 translated PC1’s&nbsp;
IP to the IP address of its own interface,&nbsp;&nbsp;

84
00:09:10,160 --> 00:09:17,840
203.0.113.1, but that’s only one option. There are&nbsp;
many different kinds of NAT. In fact, I’ll cover&nbsp;&nbsp;

85
00:09:17,840 --> 00:09:23,040
this type of NAT, where the router’s interface&nbsp;
IP address is used, in the next video, day 45.&nbsp;&nbsp;

86
00:09:23,920 --> 00:09:28,400
Static NAT, which I’ll cover in this&nbsp;
video, doesn’t use the router’s IP address,&nbsp;&nbsp;

87
00:09:28,400 --> 00:09:34,960
it uses a separate address, which you’ll see in&nbsp;
the next Anyway, R1 then sends the packet out to&nbsp;&nbsp;

88
00:09:34,960 --> 00:09:42,000
the Internet and it arrives at its destination,&nbsp;
8.8.8.8. Now the server will send a reply.&nbsp;&nbsp;

89
00:09:42,880 --> 00:09:51,520
The source is 8.8.8.8, and the destination&nbsp;
is 203.0.113.1. It sends the packet to R1,&nbsp;&nbsp;

90
00:09:51,520 --> 00:09:59,760
which then reverses the translation.&nbsp;
203.0.113.1 is translated back to 192.168.0.167.&nbsp;&nbsp;

91
00:10:00,880 --> 00:10:07,120
Although in this case the destination IP is&nbsp;
being changed, this isn’t destination NAT. R1&nbsp;&nbsp;

92
00:10:07,120 --> 00:10:12,080
is just reverting the previously translated&nbsp;
address back to PC1’s actual IP address.&nbsp;&nbsp;

93
00:10:13,600 --> 00:10:19,440
And then finally the server’s response reaches&nbsp;
PC1. So, that’s a brief introduction to NAT,&nbsp;&nbsp;

94
00:10:19,440 --> 00:10:23,520
specifically source NAT, translating&nbsp;
the source IP address of a packet.&nbsp;&nbsp;

95
00:10:24,480 --> 00:10:29,040
Now let’s look deeper into one specific&nbsp;
kind of source NAT, static source NAT.

96
00:10:30,640 --> 00:10:36,480
So, here’s static NAT. Static NAT involves&nbsp;
statically configuring one-to-one mappings of&nbsp;&nbsp;

97
00:10:36,480 --> 00:10:43,440
private IP addresses to public IP addresses. Now,&nbsp;
it doesn’t have to be private to public. You can&nbsp;&nbsp;

98
00:10:43,440 --> 00:10:48,960
NAT any address to any other address, but to keep&nbsp;
things simple let’s think of it as mapping one&nbsp;&nbsp;

99
00:10:48,960 --> 00:10:57,120
private IP to one public IP. An inside local IP&nbsp;
address is mapped to an inside global IP address.&nbsp;&nbsp;

100
00:10:58,080 --> 00:11:03,440
These are two important terms to understand, not&nbsp;
just for static NAT but for all types of NAT I’ll&nbsp;&nbsp;

101
00:11:03,440 --> 00:11:09,920
introduce. First, what does ‘inside’ mean?&nbsp;
It refers to the router’s internal network,&nbsp;&nbsp;

102
00:11:09,920 --> 00:11:16,000
as opposed to outside networks such as the&nbsp;
Internet. So, what is an inside local address?&nbsp;&nbsp;

103
00:11:16,960 --> 00:11:23,440
It is the IP address of the inside host, from the&nbsp;
perspective of the local network. So, it’s the&nbsp;&nbsp;

104
00:11:23,440 --> 00:11:28,640
IP address actually configured on the inside&nbsp;
host, which is usually a private IP address.&nbsp;&nbsp;

105
00:11:30,080 --> 00:11:34,560
That ‘inside local’ address is&nbsp;
translated to an ‘inside global’ address,&nbsp;&nbsp;

106
00:11:34,560 --> 00:11:40,240
which is the IP address of the inside host from&nbsp;
the perspective of ‘outside’ hosts, hosts outside&nbsp;&nbsp;

107
00:11:40,240 --> 00:11:46,880
of the local network. So, that’s the IP address of&nbsp;
the inside host after NAT, and is usually a public&nbsp;&nbsp;

108
00:11:46,880 --> 00:11:54,240
IP address. Let me demonstrate. PC1 wants&nbsp;
to communicate with the server at 8.8.8.8.&nbsp;&nbsp;

109
00:11:54,960 --> 00:12:02,880
So it makes a packet with destination IP address&nbsp;
8.8.8.8 and source IP address 192.168.0.167.&nbsp;&nbsp;

110
00:12:03,920 --> 00:12:10,000
This is the inside local address, it’s the IP&nbsp;
address actually configured on PC1, and it is&nbsp;&nbsp;

111
00:12:10,000 --> 00:12:16,960
indeed a private IP address. It sends the packet&nbsp;
to its default gateway R1, which performs source&nbsp;&nbsp;

112
00:12:16,960 --> 00:12:24,800
NAT to change it to, for example, 100.0.0.1. Note&nbsp;
that in static NAT we aren’t using R1’s interface&nbsp;&nbsp;

113
00:12:24,800 --> 00:12:32,880
IP, this is a separate public IP address reserved&nbsp;
just for PC1. This is the inside global IP of PC1.&nbsp;&nbsp;

114
00:12:33,520 --> 00:12:40,640
It’s PC1’s IP address after NAT is performed, and&nbsp;
it’s a public IP address. R1 then sends the packet&nbsp;&nbsp;

115
00:12:40,640 --> 00:12:47,760
over the Internet to 8.8.8.8, which then sends the&nbsp;
reply. Note that, from the server’s perspective&nbsp;&nbsp;

116
00:12:47,760 --> 00:12:56,320
it’s communicating with IP address 100.0.0.1, even&nbsp;
though PC1’s actual IP address is 192.168.0.167.&nbsp;&nbsp;

117
00:12:57,360 --> 00:13:03,680
So, the ‘inside global’ address is the IP address&nbsp;
of the inside host, PC1, from the perspective of&nbsp;&nbsp;

118
00:13:03,680 --> 00:13:09,680
outside hosts, for example the server. It’s&nbsp;
not the actual IP address configured on PC1.&nbsp;&nbsp;

119
00:13:10,560 --> 00:13:16,560
So, R1 reverses the translation back to PC1’s&nbsp;
inside local address, and sends it to PC1.

120
00:13:18,480 --> 00:13:23,280
Now, what if PC2 also wants to communicate&nbsp;
over the Internet with 8.8.8.8?&nbsp;&nbsp;

121
00:13:24,000 --> 00:13:26,960
Notice that I defined static&nbsp;
NAT as being ‘one-to-one’.&nbsp;&nbsp;

122
00:13:27,600 --> 00:13:36,560
On R1 I mapped PC1’s private IP address&nbsp;
192.168.0.167 to the public IP address 100.0.0.1.&nbsp;&nbsp;

123
00:13:36,560 --> 00:13:44,240
That’s a one-to-one mapping. But if PC2 also wants&nbsp;
to reach 8.8.8.8, it will need its own IP address.&nbsp;&nbsp;

124
00:13:44,880 --> 00:13:52,240
The router would not allow me to map both PC1 and&nbsp;
PC2’s IP addresses to 100.0.0.1 using static NAT.&nbsp;&nbsp;

125
00:13:53,280 --> 00:14:01,840
So, in this case I configured R1 to translate&nbsp;
PC2’s IP address, 192.168.0.168, to 100.0.0.2.&nbsp;&nbsp;

126
00:14:02,640 --> 00:14:10,400
What’s the name for 192.168.0.168? It’s the inside&nbsp;
local address, the actual IP address configured on&nbsp;&nbsp;

127
00:14:10,400 --> 00:14:18,720
PC2. And what’s the name for 100.0.0.2? It’s the&nbsp;
inside global address, PC2’s IP address after NAT.&nbsp;&nbsp;

128
00:14:19,760 --> 00:14:28,000
Anyway, the server sends the reply to 100.0.0.2,&nbsp;
and R1 translates it back to 192.168.0.168&nbsp;&nbsp;

129
00:14:28,000 --> 00:14:34,000
and sends the reply back to PC2. So, that’s&nbsp;
basically how static NAT works. Now, I have&nbsp;&nbsp;

130
00:14:34,000 --> 00:14:39,440
to point something out about static NAT. Static&nbsp;
NAT allows devices with private IP addresses to&nbsp;&nbsp;

131
00:14:39,440 --> 00:14:45,360
communicate over the Internet. However, because&nbsp;
it requires a one-to-one IP address mapping,&nbsp;&nbsp;

132
00:14:45,360 --> 00:14:50,960
it doesn’t really help preserve IP addresses.&nbsp;
If each internal device needs its own public IP&nbsp;&nbsp;

133
00:14:50,960 --> 00:14:56,800
address anyway, you might as well just configure&nbsp;
a public IP address on the device itself. So,&nbsp;&nbsp;

134
00:14:56,800 --> 00:15:02,240
although there are reasons to use static NAT, for&nbsp;
our purposes it’s not the most useful kind of NAT.

135
00:15:04,080 --> 00:15:08,000
Now let’s look at how to configure static&nbsp;
NAT, only a few commands are needed.&nbsp;&nbsp;

136
00:15:09,120 --> 00:15:14,080
First, define the inside interface or&nbsp;
interfaces by using the IP NAT INSIDE&nbsp;&nbsp;

137
00:15:14,080 --> 00:15:20,880
command from interface configuration mode. In&nbsp;
this network, R1’s inside interface is G0/1,&nbsp;&nbsp;

138
00:15:20,880 --> 00:15:28,160
it’s connected to the internal network.&nbsp;
So I used IP NAT INSIDE on G0/1. Likewise,&nbsp;&nbsp;

139
00:15:28,160 --> 00:15:34,800
I used the IP NAT OUTSIDE command on G0/0 to&nbsp;
define it as the outside interface. R1 will&nbsp;&nbsp;

140
00:15:34,800 --> 00:15:41,200
perform NAT on traffic traveling from the inside&nbsp;
interface, G0/1, to the outside interface, G0/0.&nbsp;&nbsp;

141
00:15:42,400 --> 00:15:49,040
Then configure the one-to-one IP address mappings.&nbsp;
The command is IP NAT INSIDE SOURCE STATIC,&nbsp;&nbsp;

142
00:15:49,760 --> 00:15:54,160
followed by the inside local IP address&nbsp;
and then the inside global IP address.&nbsp;&nbsp;

143
00:15:55,200 --> 00:16:06,960
So, I mapped 192.168.0.167 to 100.0.0.1,&nbsp;
and 192.168.0.168 to 100.0.0.2. So, PC1’s&nbsp;&nbsp;

144
00:16:06,960 --> 00:16:15,600
IP address will be translated to 100.0.0.1, and&nbsp;
PC2’s will be translated to 100.0.0.2. Note that,&nbsp;&nbsp;

145
00:16:15,600 --> 00:16:20,240
because these are public IP addresses, to use&nbsp;
them you have to actually own them, they must&nbsp;&nbsp;

146
00:16:20,240 --> 00:16:26,000
be registered to you or your company. You can’t&nbsp;
just freely use any public IP address you want,&nbsp;&nbsp;

147
00:16:26,000 --> 00:16:33,120
like you can with private IP addresses. Finally&nbsp;
I used the command SHOW IP NAT TRANSLATIONS.&nbsp;&nbsp;

148
00:16:33,760 --> 00:16:40,160
This is a very useful SHOW command for NAT. Let&nbsp;
me point out some important things here. First,&nbsp;&nbsp;

149
00:16:40,160 --> 00:16:45,120
when static NAT is used you will see the entries&nbsp;
permanently displayed in the translations table.&nbsp;&nbsp;

150
00:16:46,160 --> 00:16:49,840
Personally I think the inside local address&nbsp;
should be displayed first on the left&nbsp;&nbsp;

151
00:16:50,480 --> 00:16:55,200
and then the inside global, but it’s the&nbsp;
opposite. Inside global and then inside local.&nbsp;&nbsp;

152
00:16:56,320 --> 00:17:01,520
So, these two entries are permanent, but then&nbsp;
whenever NAT is actually performed on R1,&nbsp;&nbsp;

153
00:17:01,520 --> 00:17:06,480
when the addresses are actually translated,&nbsp;
dynamic entries for those translations will also&nbsp;&nbsp;

154
00:17:06,480 --> 00:17:14,000
appear in this table. For example, I sent&nbsp;
some traffic from PC1 and PC2 to 8.8.8.8,&nbsp;&nbsp;

155
00:17:14,000 --> 00:17:18,400
so you can see these two entries. Let’s&nbsp;
look at each column, from left to right.&nbsp;&nbsp;

156
00:17:19,280 --> 00:17:24,000
On the left is the ‘Pro’, protocol&nbsp;
column, indicating that UDP was used.&nbsp;&nbsp;

157
00:17:25,120 --> 00:17:31,040
Then the inside global address column. Notice that&nbsp;
next to each IP address there is a colon followed&nbsp;&nbsp;

158
00:17:31,040 --> 00:17:37,280
by a number. What do you think that number&nbsp;
is? It’s the port number. For static NAT, you&nbsp;&nbsp;

159
00:17:37,280 --> 00:17:43,200
don’t have to pay too much attention to the port&nbsp;
numbers, but in day 45 we’ll look at PAT, Port&nbsp;&nbsp;

160
00:17:43,200 --> 00:17:49,600
Address Translation, and you’ll see the importance&nbsp;
of these port numbers for NAT. Okay, next is the&nbsp;&nbsp;

161
00:17:49,600 --> 00:17:54,640
inside local address column. Notice that, even&nbsp;
though the IP addresses have been translated,&nbsp;&nbsp;

162
00:17:55,200 --> 00:18:01,040
R1 doesn’t translate the port numbers when using&nbsp;
static NAT. They remain the same. Okay, these&nbsp;&nbsp;

163
00:18:01,040 --> 00:18:07,280
last two columns introduce two new terms, outside&nbsp;
local and outside global. Let me explain those.

164
00:18:09,040 --> 00:18:12,560
So, you already know about the ‘inside&nbsp;
local’ and ‘inside global’ addresses.&nbsp;&nbsp;

165
00:18:13,360 --> 00:18:18,640
The ‘outside local’ address is the IP address&nbsp;
of the outside host from the perspective of&nbsp;&nbsp;

166
00:18:18,640 --> 00:18:26,480
the local network. So, for example from PC1’s&nbsp;
perspective, the server’s IP address is 8.8.8.8,&nbsp;&nbsp;

167
00:18:26,480 --> 00:18:32,880
so that’s the outside local IP address. And the&nbsp;
‘outside global’ address is the IP address of&nbsp;&nbsp;

168
00:18:32,880 --> 00:18:37,200
the outside host from the perspective of&nbsp;
the outside network, the outside hosts.&nbsp;&nbsp;

169
00:18:38,240 --> 00:18:44,880
In this case, the server’s actual IP address is&nbsp;
8.8.8.8, so as you can see both of these are the&nbsp;&nbsp;

170
00:18:44,880 --> 00:18:52,000
same, the outside local address and the outside&nbsp;
global address. Unless destination NAT is used,&nbsp;&nbsp;

171
00:18:52,000 --> 00:18:57,200
these two addresses will always be the same.&nbsp;
Destination NAT is beyond the scope of the&nbsp;&nbsp;

172
00:18:57,200 --> 00:19:02,000
CCNA exam, so for our purpose you can&nbsp;
expect these two to always be the same.&nbsp;&nbsp;

173
00:19:03,280 --> 00:19:08,160
By the way, notice that the port number is also&nbsp;
indicated for these, and they’re using port 53.&nbsp;&nbsp;

174
00:19:09,040 --> 00:19:18,240
So, what service did PC1 and PC2 use to access&nbsp;
the server? They used DNS, which uses UDP port 53,&nbsp;&nbsp;

175
00:19:18,240 --> 00:19:26,880
and sometimes TCP port 53. So, these four terms,&nbsp;
inside local, inside global, outside local,&nbsp;&nbsp;

176
00:19:26,880 --> 00:19:31,360
and outside global, can be a little confusing,&nbsp;
but make sure you understand the difference.&nbsp;&nbsp;

177
00:19:32,640 --> 00:19:38,000
‘Inside’ and ‘outside’ indicate the location&nbsp;
of the host, on the inside network or the&nbsp;&nbsp;

178
00:19:38,000 --> 00:19:45,600
outside network. PC1 and PC2 are ‘inside’,&nbsp;
and the server at 8.8.8.8 is ‘outside’.&nbsp;&nbsp;

179
00:19:46,560 --> 00:19:52,480
Local and global, on the other hand, indicate the&nbsp;
perspective. ‘Local’ means from the perspective of&nbsp;&nbsp;

180
00:19:52,480 --> 00:19:58,320
the local, inside network. ‘Global’ means from&nbsp;
the perspective of the global, outside network.&nbsp;&nbsp;

181
00:19:59,280 --> 00:20:05,840
So, 192.168.0.167 is PC1’s IP address&nbsp;
from the perspective of the local network,&nbsp;&nbsp;

182
00:20:06,720 --> 00:20:12,240
and 100.0.0.1 is PC1’s IP address from&nbsp;
the perspective of the global network.&nbsp;&nbsp;

183
00:20:13,200 --> 00:20:17,280
If you have any questions about these terms,&nbsp;
feel free to ask in the comment section.

184
00:20:19,200 --> 00:20:24,000
Let me show a few more useful commands.&nbsp;
First, you can clear all of the dynamic&nbsp;&nbsp;

185
00:20:24,000 --> 00:20:29,600
translations in the NAT translation table with&nbsp;
CLEAR IP NAT TRANSLATION, and then an asterisk.&nbsp;&nbsp;

186
00:20:30,640 --> 00:20:36,080
Even though I only configured static NAT, not&nbsp;
dynamic NAT, each time the static NAT entries are&nbsp;&nbsp;

187
00:20:36,080 --> 00:20:42,320
actually used, dynamic entries are added to the&nbsp;
NAT translation table for those translations. When&nbsp;&nbsp;

188
00:20:42,320 --> 00:20:49,280
PC1 and PC2 stop communicating with 8.8.8.8, these&nbsp;
dynamic entries will eventually time out and be&nbsp;&nbsp;

189
00:20:49,280 --> 00:20:54,000
removed from the NAT translation table, but this&nbsp;
command allows you to manually clear the table.&nbsp;&nbsp;

190
00:20:55,360 --> 00:20:58,880
Notice that, after using that command&nbsp;
the two dynamic entries are gone,&nbsp;&nbsp;

191
00:20:58,880 --> 00:21:04,800
but the static entries remain. These static&nbsp;
NAT entries won’t time out and can’t be deleted&nbsp;&nbsp;

192
00:21:04,800 --> 00:21:09,680
unless you remove the IP NAT INSIDE&nbsp;
SOURCE STATIC commands from the router.

193
00:21:10,480 --> 00:21:16,480
The last command I want to show you today is&nbsp;
this, SHOW IP NAT STATISTICS. Let’s walk through&nbsp;&nbsp;

194
00:21:16,480 --> 00:21:22,000
the first few lines of the output. Total active&nbsp;
translations 2, and both of them are static.&nbsp;&nbsp;

195
00:21:22,720 --> 00:21:26,080
Since I just cleared the dynamic&nbsp;
entries, there aren’t any at the moment.&nbsp;&nbsp;

196
00:21:26,880 --> 00:21:30,320
As for extended entries,&nbsp;
I’ll explain them in day 45.&nbsp;&nbsp;

197
00:21:31,600 --> 00:21:35,760
Peak translations is 4, that’s the highest&nbsp;
number of translations that have been&nbsp;&nbsp;

198
00:21:35,760 --> 00:21:43,840
in R1’s NAT table. Here you can see the outside&nbsp;
interface, g0/0, and the inside interface, g0/1.

199
00:21:45,200 --> 00:21:50,240
So, here are the new commands from this video.&nbsp;
If you don’t remember any of these commands,&nbsp;&nbsp;

200
00:21:50,240 --> 00:21:53,520
make sure to go back in the video to review. Also,&nbsp;&nbsp;

201
00:21:53,520 --> 00:21:58,320
I recommend practicing these configurations&nbsp;
either by making your own labs in packet tracer,&nbsp;&nbsp;

202
00:21:58,320 --> 00:22:03,040
or by trying my practice labs. The&nbsp;
static NAT lab will be in the next video.

203
00:22:04,800 --> 00:22:09,840
Okay, before the quiz let’s review what we&nbsp;
studied today. First I introduced private&nbsp;&nbsp;

204
00:22:09,840 --> 00:22:14,480
IPv4 addresses. Make sure you know&nbsp;
those three private IP address ranges,&nbsp;&nbsp;

205
00:22:15,120 --> 00:22:26,560
10.0.0.0/8, 172.16.0.0/12, and 192.168.0.0/16.&nbsp;
Then I gave an introduction to NAT in general.&nbsp;&nbsp;

206
00:22:27,440 --> 00:22:32,160
NAT allows routers to modify the source&nbsp;
and/or destination addresses of packets.&nbsp;&nbsp;

207
00:22:33,040 --> 00:22:38,960
But for the CCNA, you just need to learn&nbsp;
source NAT. Then we looked at one type of&nbsp;&nbsp;

208
00:22:38,960 --> 00:22:44,400
source NAT, static source NAT, which involves&nbsp;
manually configuring one-to-one mappings of&nbsp;&nbsp;

209
00:22:44,400 --> 00:22:50,480
private IP addresses to global IP addresses.&nbsp;
Finally, we looked at how to configure static NAT.&nbsp;&nbsp;

210
00:22:51,440 --> 00:22:57,120
Static NAT configuration is fairly simple.&nbsp;
Just specify the inside and outside interfaces,&nbsp;&nbsp;

211
00:22:57,120 --> 00:23:02,240
and then configure the IP address mappings. I&nbsp;
think that the bigger challenge of this video&nbsp;&nbsp;

212
00:23:02,240 --> 00:23:08,240
is understanding those four terms: inside local,&nbsp;
inside global, outside local, and outside global.&nbsp;&nbsp;

213
00:23:08,960 --> 00:23:14,160
But we’ll cover NAT again in the next video, so&nbsp;
if some things are unclear, don’t worry about it.&nbsp;&nbsp;

214
00:23:15,360 --> 00:23:20,960
Also, at the end of the quiz there will be a bonus&nbsp;
question from Boson Software’s ExSim for CCNA,&nbsp;&nbsp;

215
00:23:20,960 --> 00:23:25,600
so make sure to watch until the end.&nbsp;
Okay, let’s go to quiz question 1.

216
00:23:27,920 --> 00:23:34,240
Which of the following commands will configure&nbsp;
a static source NAT mapping of 192.168.10.10&nbsp;&nbsp;

217
00:23:34,240 --> 00:23:40,400
to 203.0.113.10? Pause the video now to&nbsp;
check the options and select the best answer.

218
00:23:45,200 --> 00:23:51,920
Okay, the answer is D, IP NAT INSIDE SOURCE&nbsp;
STATIC, followed by the inside local address which&nbsp;&nbsp;

219
00:23:51,920 --> 00:23:56,880
is usually a private address, and then the inside&nbsp;
global address, which is usually a public address.&nbsp;&nbsp;

220
00:23:58,000 --> 00:24:05,920
This will map 192.168.10.10 to&nbsp;
203.0.113.10. Okay, let’s go to question 2.

221
00:24:07,840 --> 00:24:15,040
You have configured the following command&nbsp;
on R1, IP NAT INSIDE SOURCE STATIC 10.0.0.1&nbsp;&nbsp;

222
00:24:15,040 --> 00:24:21,840
20.0.0.1. What will happen when you issue&nbsp;
the following command on R1? IP NAT INSIDE&nbsp;&nbsp;

223
00:24:21,840 --> 00:24:31,840
SOURCE STATIC 10.0.0.2 20.0.0.1. Pause&nbsp;
the video now to select the best answer.

224
00:24:33,520 --> 00:24:41,280
Okay, the answer is B, only 10.0.0.1 will&nbsp;
be translated to 20.0.0.1. Why is that?&nbsp;&nbsp;

225
00:24:42,000 --> 00:24:46,640
I briefly mentioned earlier in the video that,&nbsp;
if you have already statically mapped a private&nbsp;&nbsp;

226
00:24:46,640 --> 00:24:53,600
IP address to a public IP address, if you try to&nbsp;
map another private IP to that same public IP,&nbsp;&nbsp;

227
00:24:53,600 --> 00:24:59,360
the command will be rejected. Here’s what that&nbsp;
looks like. The second command is rejected,&nbsp;&nbsp;

228
00:24:59,360 --> 00:25:08,480
so only 10.0.0.1 will be translated to 20.0.0.1.&nbsp;
If you want to configure static NAT for 10.0.0.2,&nbsp;&nbsp;

229
00:25:08,480 --> 00:25:13,360
you’ll need to use a different public IP&nbsp;
address. Okay, let’s go to question 3.

230
00:25:16,000 --> 00:25:19,360
Examine the following partial&nbsp;
SHOW command output on R1.&nbsp;&nbsp;

231
00:25:20,320 --> 00:25:24,880
How many active translations will there be&nbsp;
if you issue the CLEAR IP NAT TRANSLATION&nbsp;&nbsp;

232
00:25:24,880 --> 00:25:29,600
(asterisk) command on R1? Pause the&nbsp;
video now to select the correct answer.

233
00:25:33,680 --> 00:25:41,120
Okay the answer is B, 3. CLEAR IP NAT TRANSLATION&nbsp;
will clear only the dynamic translations,&nbsp;&nbsp;

234
00:25:41,120 --> 00:25:45,600
not the 3 static translations. So,&nbsp;
even after issuing the command,&nbsp;&nbsp;

235
00:25:45,600 --> 00:25:49,440
3 translations will remain.&nbsp;
Okay, let’s go to question 4.

236
00:25:51,600 --> 00:25:54,720
Which of the following are private IPv4 addresses?&nbsp;&nbsp;

237
00:25:54,720 --> 00:25:59,440
(select all that apply). Pause the video&nbsp;
now to select all of the correct answers.

238
00:26:03,760 --> 00:26:14,560
Okay, the correct answers are A, 10.254.255.0,&nbsp;
E, 172.20.2.3, and F, 10.11.12.13.&nbsp;&nbsp;

239
00:26:15,520 --> 00:26:20,320
Those are the only three addresses that fall&nbsp;
within the private IPv4 address ranges as&nbsp;&nbsp;

240
00:26:20,320 --> 00:26:33,040
specified in RFC 1918. 10.0.0.0/8, 172.16.0.0/12,&nbsp;
and 192.168.0.0/16. Okay, let’s go to question 5.

241
00:26:35,200 --> 00:26:40,800
Examine the packet flow below as PC1&nbsp;
pings 8.8.8.8 and receives a reply.&nbsp;&nbsp;

242
00:26:41,760 --> 00:26:45,840
Identify each of the following addresses&nbsp;
in this situation from R1’s perspective.&nbsp;&nbsp;

243
00:26:46,720 --> 00:26:52,400
So, identify the outside global, outside local,&nbsp;
inside local, and inside global addresses.&nbsp;&nbsp;

244
00:26:53,200 --> 00:26:57,120
If you were to use the command&nbsp;
SHOW IP NAT TRANSLATIONS on R1,&nbsp;&nbsp;

245
00:26:57,680 --> 00:27:05,840
which address would appear in each column?&nbsp;
Pause the video now to think about the answers.

246
00:27:07,680 --> 00:27:14,960
Okay let’s check. The outside global and outside&nbsp;
local addresses are both 8.8.8.8. These will&nbsp;&nbsp;

247
00:27:14,960 --> 00:27:19,840
only be different if destination NAT is used,&nbsp;
and that’s outside of the scope of the CCNA.&nbsp;&nbsp;

248
00:27:21,200 --> 00:27:28,800
The inside local address is 172.20.0.101.&nbsp;
That’s the IP address of the inside host, PC1,&nbsp;&nbsp;

249
00:27:28,800 --> 00:27:34,960
from the perspective of the inside network.&nbsp;
And the inside global address is 200.0.0.1.&nbsp;&nbsp;

250
00:27:35,520 --> 00:27:40,480
That’s the IP address of the inside host, PC1,&nbsp;
from the perspective of the outside network.&nbsp;&nbsp;

251
00:27:41,600 --> 00:27:44,000
Once again, make sure you know&nbsp;
these different terms well.&nbsp;&nbsp;

252
00:27:44,720 --> 00:27:49,600
If you’re confused, go back in the video to&nbsp;
review, try a Google search on the topic,&nbsp;&nbsp;

253
00:27:49,600 --> 00:27:54,240
and of course feel free to ask questions in&nbsp;
the comment section. Okay, that’s all for&nbsp;&nbsp;

254
00:27:54,240 --> 00:28:02,240
the quiz. Next let’s take a look at a bonus&nbsp;
question in Boson Software’s ExSim for CCNA.

255
00:28:02,240 --> 00:28:04,960
Okay here's today's Boson ExSim practice question.&nbsp;&nbsp;

256
00:28:06,240 --> 00:28:11,760
You issue the SHOW IP NAT TRANSLATIONS command&nbsp;
on RouterA and receive the following partial&nbsp;&nbsp;

257
00:28:11,760 --> 00:28:19,200
output. So there are 2 entries in RouterA's&nbsp;
NAT translation table. HostA establishes a&nbsp;&nbsp;

258
00:28:19,200 --> 00:28:24,640
TFTP connection with HostB. What is the IP&nbsp;
address of HostA? Select the best answer.&nbsp;&nbsp;

259
00:28:25,520 --> 00:28:30,560
So, these are the six options to choose from.&nbsp;
Pause the video now to select the best answer.

260
00:28:35,520 --> 00:28:44,320
Okay let's check. So, I believe the correct answer&nbsp;
is 10.20.30.55. Now how did I decide that? Well,&nbsp;&nbsp;

261
00:28:44,320 --> 00:28:51,520
it is a TFTP connection from HostA to HostB. So&nbsp;
how do we know which one is the TFTP connection,&nbsp;&nbsp;

262
00:28:51,520 --> 00:28:59,600
which of these entries? We can look at the&nbsp;
protocol. TFTP uses UDP, not TCP. And TFTP's&nbsp;&nbsp;

263
00:28:59,600 --> 00:29:07,040
destination port is 69, not 23. So we know it&nbsp;
is this top entry. Now how do we know which&nbsp;&nbsp;

264
00:29:07,040 --> 00:29:13,360
of these addresses is HostA's address? So the&nbsp;
question isn't 100% clear. It says what is the&nbsp;&nbsp;

265
00:29:13,360 --> 00:29:20,960
IP address of HostA? It doesn't say inside global&nbsp;
or inside local, so which one is HostA's address?&nbsp;&nbsp;

266
00:29:21,680 --> 00:29:27,200
Well if you get a question like this, it's safe&nbsp;
to assume that it's asking about the actual IP&nbsp;&nbsp;

267
00:29:27,200 --> 00:29:35,040
address of HostA. Not the NAT address configured&nbsp;
on RouterA. So it's not the inside global address,&nbsp;&nbsp;

268
00:29:35,840 --> 00:29:43,680
which is HostA's IP address after NAT. It's asking&nbsp;
for the inside local address. HostA's IP address&nbsp;&nbsp;

269
00:29:43,680 --> 00:29:52,080
before NAT, the actual IP address configured on&nbsp;
HostA. So that's why I think 10.20.30.55 is the&nbsp;&nbsp;

270
00:29:52,080 --> 00:30:01,040
correct answer. So I will click on show answer.&nbsp;
And yes that is correct. So here is Boson's&nbsp;&nbsp;

271
00:30:01,040 --> 00:30:07,840
explanation. I highly recommend reading this&nbsp;
explanation, so pause the video now to do that.&nbsp;&nbsp;

272
00:30:09,120 --> 00:30:13,440
And there's some more down here at the bottom,&nbsp;
as well as some links to Cisco documentation.&nbsp;&nbsp;

273
00:30:18,080 --> 00:30:23,200
Okay, so that was a quick look at Boson Software's&nbsp;
ExSim for CCNA. These are, without a doubt,&nbsp;&nbsp;

274
00:30:23,200 --> 00:30:29,280
the best practice exams for the CCNA, and I highly&nbsp;
recommend them. If you want to get Boson ExSim,&nbsp;&nbsp;

275
00:30:29,280 --> 00:30:31,280
please follow the link in the video description.

276
00:30:34,240 --> 00:30:36,560
There are supplementary materials for this video.&nbsp;&nbsp;

277
00:30:37,280 --> 00:30:40,160
There is a flashcard deck to&nbsp;
use with the software ‘Anki’.&nbsp;&nbsp;

278
00:30:41,120 --> 00:30:45,120
There will also be a packet tracer practice&nbsp;
lab so you can get some hands-on practice.&nbsp;&nbsp;

279
00:30:46,000 --> 00:30:51,280
That will be in the next video. Sign up for my&nbsp;
mailing list via the link in the description,&nbsp;&nbsp;

280
00:30:51,280 --> 00:30:55,040
and I’ll send you all of the flashcards&nbsp;
and packet tracer lab files for the course.

281
00:30:57,120 --> 00:31:02,720
Before finishing today’s video I want to&nbsp;
thank my JCNP-level channel members. To join,&nbsp;&nbsp;

282
00:31:02,720 --> 00:31:08,800
please click the ‘Join’ button under the video.&nbsp;
Thank you to Pavel, Abraham, Serge, Njoku, Viktor,&nbsp;&nbsp;

283
00:31:08,800 --> 00:31:16,560
Roger, Raj, Kenneth, Seamus, H W, Brandon, Samil,&nbsp;
Aaron, Marcel, Kone, Donald, C Mohd, Gustavo,&nbsp;&nbsp;

284
00:31:16,560 --> 00:31:22,560
Anthony, Junhong, Benjamin, Tshepiso, Justin,&nbsp;
Prakaash, Nasir, Erlison, Marko, Daming, Ed,&nbsp;&nbsp;

285
00:31:22,560 --> 00:31:28,720
Value, John, Funnydart, Velvijaykum, Mark, Yousif,&nbsp;
Boson Software, Devin, Lito, Yonatan, and Vance.&nbsp;&nbsp;

286
00:31:29,680 --> 00:31:33,600
Sorry if I pronounced your name incorrectly,&nbsp;
but thank you so much for your support.&nbsp;&nbsp;

287
00:31:34,480 --> 00:31:40,560
This is the list of JCNP-level members at the&nbsp;
time of recording by the way, March 18th 2021.&nbsp;&nbsp;

288
00:31:41,440 --> 00:31:46,480
If you signed up recently and your name isn’t&nbsp;
on here don’t worry, you’ll be in future videos.

289
00:31:48,240 --> 00:31:51,280
Thank you for watching. Please&nbsp;
subscribe to the channel,&nbsp;&nbsp;

290
00:31:51,280 --> 00:31:56,000
like the video, leave a comment, and share the&nbsp;
video with anyone else studying for the CCNA.&nbsp;&nbsp;

291
00:31:57,120 --> 00:32:02,720
If you want to leave a tip, check the links in the&nbsp;
description. I'm also a Brave verified publisher&nbsp;&nbsp;

292
00:32:02,720 --> 00:32:09,280
and accept BAT, or Basic Attention Token, tips&nbsp;
via the Brave browser. That's all for now.