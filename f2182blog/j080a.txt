1
00:00:00,720 --> 00:00:07,120
Welcome to Jeremy’s IT Lab. This is a free,&nbsp;
complete course for the CCNA. If you like these&nbsp;&nbsp;

2
00:00:07,120 --> 00:00:12,560
videos, please subscribe to follow along with the&nbsp;
series. Also, please like and leave a comment,&nbsp;&nbsp;

3
00:00:12,560 --> 00:00:16,400
and share the video to help spread this&nbsp;
free series of videos. Thanks for your help.

4
00:00:17,840 --> 00:00:25,040
In this video we will cover SSH, Secure Shell.&nbsp;
SSH is a protocol used to connect to devices&nbsp;&nbsp;

5
00:00:25,040 --> 00:00:30,800
and configure them via the CLI. One option&nbsp;
to connect to a device and configure it is&nbsp;&nbsp;

6
00:00:30,800 --> 00:00:36,800
via the console port, which I introduced in an&nbsp;
early video of this course. However SSH allows&nbsp;&nbsp;

7
00:00:36,800 --> 00:00:41,040
you to connect to a device remotely, without&nbsp;
being directly connected to its console port.&nbsp;&nbsp;

8
00:00:42,480 --> 00:00:47,600
SSH is exam topic 4.8, which says you&nbsp;
must be able to configure network devices&nbsp;&nbsp;

9
00:00:47,600 --> 00:00:53,360
for remote access using SSH. I won’t&nbsp;
just cover SSH in this video, though.&nbsp;&nbsp;

10
00:00:53,360 --> 00:00:57,840
I will take the opportunity to&nbsp;
introduce some other important concepts.

11
00:00:59,200 --> 00:01:04,800
Here’s what we’ll cover in this video.&nbsp;
First, console port security. In the&nbsp;&nbsp;

12
00:01:04,800 --> 00:01:08,960
last video about Syslog I mentioned&nbsp;
the console line and the VTY lines.&nbsp;&nbsp;

13
00:01:09,600 --> 00:01:14,240
So, I want to take the opportunity to explain&nbsp;
more about the console line and how you can&nbsp;&nbsp;

14
00:01:14,240 --> 00:01:19,840
make it more secure. Then I’ll explain the&nbsp;
management IP address on Layer 2 switches.&nbsp;&nbsp;

15
00:01:20,880 --> 00:01:25,440
Layer 2 switches don’t route packets and&nbsp;
don’t build a routing table, however you&nbsp;&nbsp;

16
00:01:25,440 --> 00:01:31,040
can configure a management IP address on them so&nbsp;
that you can remotely connect to them via SSH.&nbsp;&nbsp;

17
00:01:32,320 --> 00:01:37,440
Then I will introduce Telnet, which is a&nbsp;
protocol similar to SSH, but it’s simpler&nbsp;&nbsp;

18
00:01:37,440 --> 00:01:44,240
and less-secure. Finally, the main topic of&nbsp;
the video, SSH. A lot of topics to cover,&nbsp;&nbsp;

19
00:01:44,240 --> 00:01:49,680
but the first few topics shouldn’t take too long&nbsp;
to go through. As always, watch until the end for&nbsp;&nbsp;

20
00:01:49,680 --> 00:01:55,360
a bonus practice question from Boson Software’s&nbsp;
ExSim, the best practice exams for the CCNA.

21
00:01:57,280 --> 00:02:03,280
First, console port security. By default,&nbsp;
no password is needed to access the CLI of&nbsp;&nbsp;

22
00:02:03,280 --> 00:02:09,360
a Cisco IOS device via the console port.&nbsp;
You can take a new device out of the box,&nbsp;&nbsp;

23
00:02:09,360 --> 00:02:14,240
use a console cable to connect your laptop to&nbsp;
it, and then start configuring it in the CLI.&nbsp;&nbsp;

24
00:02:15,440 --> 00:02:20,240
However, you can configure a password on the&nbsp;
console line. The console line is where you&nbsp;&nbsp;

25
00:02:20,240 --> 00:02:25,920
configure all settings related to console port&nbsp;
connections. When you do this, a user will have to&nbsp;&nbsp;

26
00:02:25,920 --> 00:02:32,240
enter a password to access the CLI via the console&nbsp;
port. Let’s get right into the configurations. To&nbsp;&nbsp;

27
00:02:32,240 --> 00:02:37,440
configure the console line, use the command&nbsp;
LINE CONSOLE 0 from global config mode.&nbsp;&nbsp;

28
00:02:38,400 --> 00:02:43,760
There is only a single console line, so the&nbsp;
number is always 0. What does it mean to have&nbsp;&nbsp;

29
00:02:43,760 --> 00:02:49,120
only a single console line? It means there can&nbsp;
only be a single console connection at once.&nbsp;&nbsp;

30
00:02:49,760 --> 00:02:54,320
You can’t have multiple people configuring the&nbsp;
device at the same time via separate console&nbsp;&nbsp;

31
00:02:54,320 --> 00:03:01,440
ports. Only one user can connect at a time. Then&nbsp;
the command is PASSWORD, followed by the password.&nbsp;&nbsp;

32
00:03:02,640 --> 00:03:06,960
But configuring a password isn’t enough,&nbsp;
you have to use the LOGIN command, which&nbsp;&nbsp;

33
00:03:06,960 --> 00:03:12,400
tells the device to require a user to enter the&nbsp;
password to access the CLI via the console port.&nbsp;&nbsp;

34
00:03:13,440 --> 00:03:19,440
That’s it, now a password will be required&nbsp;
to access the console port. To demonstrate,&nbsp;&nbsp;

35
00:03:19,440 --> 00:03:26,080
I used END and EXIT to terminate the console&nbsp;
connection. Then I pressed enter to connect again,&nbsp;&nbsp;

36
00:03:26,080 --> 00:03:33,360
and I was asked for a password. I entered the&nbsp;
password of ccna, and I was able to connect. Note&nbsp;&nbsp;

37
00:03:33,360 --> 00:03:38,320
that the password isn’t displayed as you type it,&nbsp;
so the password can’t be seen by anyone nearby.

38
00:03:40,080 --> 00:03:44,640
Alternatively, you can configure the console&nbsp;
line to require users to login using one&nbsp;&nbsp;

39
00:03:44,640 --> 00:03:49,440
of the configured usernames on the device.&nbsp;
This is different than the previous example,&nbsp;&nbsp;

40
00:03:49,440 --> 00:03:54,560
in which we configured a specific password&nbsp;
just for the console line. So, here are the&nbsp;&nbsp;

41
00:03:54,560 --> 00:04:01,360
configurations. First, I created a username,&nbsp;
jeremy, and gave it a secret password of ccnp.&nbsp;&nbsp;

42
00:04:02,480 --> 00:04:08,800
I once again used LINE CONSOLE 0 to configure&nbsp;
the console line. Then I used the command LOGIN&nbsp;&nbsp;

43
00:04:08,800 --> 00:04:14,640
LOCAL. This tells the device to require a user&nbsp;
to login using one of the configured usernames&nbsp;&nbsp;

44
00:04:14,640 --> 00:04:20,080
on the device. So, instead of logging in using&nbsp;
the password configured on the console line,&nbsp;&nbsp;

45
00:04:20,640 --> 00:04:25,840
the user will have to use a username and&nbsp;
password. By the way, here’s the current&nbsp;&nbsp;

46
00:04:25,840 --> 00:04:32,000
configuration of R1’s console line. Notice that&nbsp;
the password of ccna that I configured previously&nbsp;&nbsp;

47
00:04:32,000 --> 00:04:38,480
is still there, however I changed the login mode&nbsp;
from LOGIN to LOGIN LOCAL, so the console line’s&nbsp;&nbsp;

48
00:04:38,480 --> 00:04:44,560
password of ccna can no longer be used. The&nbsp;
user must login using an account on the device.&nbsp;&nbsp;

49
00:04:45,600 --> 00:04:50,800
So, I logged out of the connection pressed&nbsp;
enter, and as you can see I was asked for a&nbsp;&nbsp;

50
00:04:50,800 --> 00:04:56,320
username and password, not just a password.&nbsp;
Okay, I want to show you one more command.&nbsp;&nbsp;

51
00:04:56,960 --> 00:05:02,720
That is the EXEC-TIMEOUT command. This will cause&nbsp;
the device to log the user out after a certain&nbsp;&nbsp;

52
00:05:02,720 --> 00:05:09,440
period of inactivity, 3 minutes and 30 seconds&nbsp;
in this case. This is a good security practice,&nbsp;&nbsp;

53
00:05:09,440 --> 00:05:13,120
in case you leave your desk but forget&nbsp;
to log out of the console connection.

54
00:05:15,200 --> 00:05:20,480
Okay, that’s all for console line security. Now&nbsp;
let’s move on to remote management of devices.&nbsp;&nbsp;

55
00:05:21,600 --> 00:05:27,280
Routers and Layer 3 switches have IP addresses you&nbsp;
can use to connect remotely to manage the devices,&nbsp;&nbsp;

56
00:05:27,280 --> 00:05:33,120
but what about Layer 2 switches? Layer 2 switches&nbsp;
don’t perform packet routing and don’t build a&nbsp;&nbsp;

57
00:05:33,120 --> 00:05:39,040
routing table. They aren’t IP routing aware. Their&nbsp;
purpose is simply to forward frames in the LAN,&nbsp;&nbsp;

58
00:05:39,040 --> 00:05:45,440
as you already know. However, you can actually&nbsp;
assign an IP address to an SVI, a switch virtual&nbsp;&nbsp;

59
00:05:45,440 --> 00:05:51,840
interface, to allow remote connections to the CLI&nbsp;
of the switch, for example using Telnet or SSH.&nbsp;&nbsp;

60
00:05:52,960 --> 00:05:59,040
For the rest of this video, I’ll use this&nbsp;
network topology. The network admin is using PC2,&nbsp;&nbsp;

61
00:05:59,040 --> 00:06:03,280
and needs to be able to connect to all of the&nbsp;
devices in the network to configure them, without&nbsp;&nbsp;

62
00:06:03,280 --> 00:06:10,640
having to travel to different offices. To allow&nbsp;
this, the layer 2 switches need an IP address. So,&nbsp;&nbsp;

63
00:06:10,640 --> 00:06:17,360
here’s how you can configure it. First, configure&nbsp;
the IP address on the SVI in the same way as on a&nbsp;&nbsp;

64
00:06:17,360 --> 00:06:26,160
multilayer switch. INTERFACE VLAN, followed by the&nbsp;
VLAN ID. Then configure the IP address. Finally,&nbsp;&nbsp;

65
00:06:26,160 --> 00:06:32,880
enable the interface if its shutdown by default.&nbsp;
So, the SVI is configured. However there’s one&nbsp;&nbsp;

66
00:06:32,880 --> 00:06:38,560
more step you need to configure to allow a Layer&nbsp;
2 switch to communicate with devices outside of&nbsp;&nbsp;

67
00:06:38,560 --> 00:06:45,280
its local LAN. Use the IP DEFAULT-GATEWAY command&nbsp;
to configure the default gateway of the switch.&nbsp;&nbsp;

68
00:06:46,720 --> 00:06:52,240
PC2 isn’t in the same LAN, so SW1 can’t&nbsp;
send network traffic directly to PC2.&nbsp;&nbsp;

69
00:06:53,200 --> 00:06:57,600
It has to send the traffic to a router, which&nbsp;
will then route the packets to their destination.&nbsp;&nbsp;

70
00:06:58,640 --> 00:07:03,200
It’s like configuring a default route, however&nbsp;
Layer 2 switches don’t have a routing table&nbsp;&nbsp;

71
00:07:03,760 --> 00:07:07,120
so you have to use this command to&nbsp;
specify the default gateway instead.&nbsp;&nbsp;

72
00:07:08,560 --> 00:07:12,400
Okay, that’s all the configuration needed&nbsp;
for a Layer 2 switch’s management IP.&nbsp;&nbsp;

73
00:07:13,280 --> 00:07:17,040
To demonstrate Telnet and SSH,&nbsp;
I’ll continue configuring SW1.

74
00:07:19,440 --> 00:07:25,120
First up, Telnet. It’s not commonly used today&nbsp;
due to a lack of security, but it’s good to know&nbsp;&nbsp;

75
00:07:25,120 --> 00:07:33,040
before looking at SSH. Telnet, teletype network,&nbsp;
is a protocol used to remotely access the CLI of&nbsp;&nbsp;

76
00:07:33,040 --> 00:07:38,880
a remote host. So instead of plugging your PC&nbsp;
directly into the device with a console cable,&nbsp;&nbsp;

77
00:07:39,440 --> 00:07:45,280
you can connect to the device on a remote&nbsp;
network. Telnet was developed in 1969, so it’s&nbsp;&nbsp;

78
00:07:45,280 --> 00:07:51,360
a very old protocol. It has been largely, almost&nbsp;
entirely, replaced by SSH, which is more secure.&nbsp;&nbsp;

79
00:07:52,240 --> 00:07:57,840
However SSH was developed in 1995,&nbsp;
so Telnet had many years of use.&nbsp;&nbsp;

80
00:07:58,720 --> 00:08:04,160
Telnet sends data in plain text, no&nbsp;
encryption. So if someone uses a tool&nbsp;&nbsp;

81
00:08:04,160 --> 00:08:10,160
like Wireshark to capture the traffic, they can&nbsp;
read exactly what was sent. Let me demonstrate.&nbsp;&nbsp;

82
00:08:11,040 --> 00:08:17,520
Up top is a Telnet packet sent from R1, inside&nbsp;
it says ‘password’. This is the password prompt&nbsp;&nbsp;

83
00:08:17,520 --> 00:08:24,480
the CLI displays when trying to login. I entered&nbsp;
the password, and it was sent in a packet to R1.&nbsp;&nbsp;

84
00:08:25,600 --> 00:08:32,560
But the password is displayed in plain text,&nbsp;
ccnp, no encryption. So, anyone in the middle&nbsp;&nbsp;

85
00:08:32,560 --> 00:08:36,880
who is able to capture the traffic like I did&nbsp;
here will be able to read all of the traffic&nbsp;&nbsp;

86
00:08:36,880 --> 00:08:42,720
between my device and R1. The username, the&nbsp;
password, and all of the traffic after that.&nbsp;&nbsp;

87
00:08:43,680 --> 00:08:47,920
That is definitely not secure, and&nbsp;
that’s why SSH is used instead of Telnet.&nbsp;&nbsp;

88
00:08:49,280 --> 00:08:55,600
Before moving on to Telnet configuration, I want&nbsp;
to point out one more thing. The Telnet server,&nbsp;&nbsp;

89
00:08:55,600 --> 00:09:01,680
that’s the device being connected to, R1 in this&nbsp;
case, listens for Telnet traffic on TCP port&nbsp;&nbsp;

90
00:09:01,680 --> 00:09:10,240
23. So, when my device sent the password to R1,&nbsp;
the destination port was TCP port 23. As always,&nbsp;&nbsp;

91
00:09:10,240 --> 00:09:15,520
make sure you remember that port number. And&nbsp;
by the way, the Telnet client is the device&nbsp;&nbsp;

92
00:09:15,520 --> 00:09:21,840
that is connecting, and as I just said the Telnet&nbsp;
server is the device that is being connected to.

93
00:09:23,360 --> 00:09:26,960
Here’s how to configure a device so that&nbsp;
you can use Telnet to connect to it.&nbsp;&nbsp;

94
00:09:28,320 --> 00:09:32,720
First, you should always configure an enable&nbsp;
secret, but if you haven’t make sure you do.&nbsp;&nbsp;

95
00:09:33,440 --> 00:09:38,320
You won’t be able to access privileged exec mode&nbsp;
when connecting via Telnet if an enable secret&nbsp;&nbsp;

96
00:09:38,320 --> 00:09:45,120
isn’t configured. I also configured a username and&nbsp;
password, since I will later configure LOGIN LOCAL&nbsp;&nbsp;

97
00:09:45,120 --> 00:09:50,880
mode. This isn’t necessary, but you can configure&nbsp;
an ACL to limit which devices can connect to the&nbsp;&nbsp;

98
00:09:50,880 --> 00:10:01,040
VTY lines of the device. And then use the command&nbsp;
LINE VTY 0 15. Telnet and SSH access is configured&nbsp;&nbsp;

99
00:10:01,040 --> 00:10:07,440
on the VTY lines. There are 16 lines available,&nbsp;
so up to 16 users can be connected at once.&nbsp;&nbsp;

100
00:10:08,960 --> 00:10:17,840
LINE VTY 0 15 means you are configuring all lines,&nbsp;
from 0 through 15. This is recommended, so all of&nbsp;&nbsp;

101
00:10:17,840 --> 00:10:24,240
the VTY lines have the same configuration.&nbsp;
By the way, VTY stands for Virtual TeleType.&nbsp;&nbsp;

102
00:10:26,080 --> 00:10:32,400
Okay, first I configured LOGIN LOCAL as well as&nbsp;
EXEC-TIMEOUT. I think the default exec timeout&nbsp;&nbsp;

103
00:10:32,400 --> 00:10:37,680
depends on the device. In this case it was&nbsp;
10 minutes, but I shortened it to 5 minutes.&nbsp;&nbsp;

104
00:10:39,040 --> 00:10:42,240
Okay, next I used the command&nbsp;
TRANSPORT INPUT TELNET.&nbsp;&nbsp;

105
00:10:43,120 --> 00:10:46,960
This is how you configure what kind of&nbsp;
connections to the VTY lines are allowed.&nbsp;&nbsp;

106
00:10:47,840 --> 00:10:53,840
TRANSPORT INPUT TELNET allows only Telnet&nbsp;
connections. You could also configure TRANSPORT&nbsp;&nbsp;

107
00:10:53,840 --> 00:11:00,560
INPUT SSH to allow only SSH connections, or&nbsp;
TRANSPORT INPUT TELNET SSH to allow both.&nbsp;&nbsp;

108
00:11:02,000 --> 00:11:07,360
TRANSPORT INPUT ALL allows all connections,&nbsp;
there are some other protocols aside from Telnet&nbsp;&nbsp;

109
00:11:07,360 --> 00:11:13,840
and SSH. Or, you can configure TRANSPORT INPUT&nbsp;
NONE to allow no connections to the VTY lines.&nbsp;&nbsp;

110
00:11:15,040 --> 00:11:20,640
The device I’m using for this demo defaults to&nbsp;
TRANSPORT INPUT NONE, but I think many devices&nbsp;&nbsp;

111
00:11:20,640 --> 00:11:29,440
default to TRANSPORT INPUT ALL. Finally, I applied&nbsp;
the ACL to the VTY lines. This means that only PC2&nbsp;&nbsp;

112
00:11:29,440 --> 00:11:35,840
will be able to connect to SW1 using Telnet. Note&nbsp;
that this only applies to VTY line connections,&nbsp;&nbsp;

113
00:11:36,560 --> 00:11:43,680
other devices will still be able to communicate&nbsp;
with SW1, send it pings, etc. As a reminder,&nbsp;&nbsp;

114
00:11:43,680 --> 00:11:49,840
although the command to apply the ACL to the VTY&nbsp;
lines is ACCESS-CLASS, the command to apply an&nbsp;&nbsp;

115
00:11:49,840 --> 00:11:56,320
ACL to an interface is IP ACCESS-GROUP. And&nbsp;
the command to actually create the ACL is&nbsp;&nbsp;

116
00:11:56,320 --> 00:12:02,880
ACCESS-LIST or IP ACCESS-LIST. Try not&nbsp;
to confuse those commands, ACCESS-CLASS,&nbsp;&nbsp;

117
00:12:03,440 --> 00:12:07,440
IP ACCESS-GROUP, and&nbsp;
ACCESS-LIST or IP ACCESS-LIST.

118
00:12:08,720 --> 00:12:15,600
To verify the configuration, I first tried to ping&nbsp;
SW1 from R2. The ping was successful. However,&nbsp;&nbsp;

119
00:12:15,600 --> 00:12:21,200
when I tried to telnet to SW1, I got a message&nbsp;
saying ‘connection refused by remote host’.&nbsp;&nbsp;

120
00:12:22,000 --> 00:12:28,400
That’s because of the ACL I applied to SW1’s VTY&nbsp;
lines. Only PC2 should be able to Telnet to SW1.&nbsp;&nbsp;

121
00:12:29,520 --> 00:12:35,120
So, I did Telnet from PC2, and it worked. Now,&nbsp;
one last thing I want to point out is this.&nbsp;&nbsp;

122
00:12:36,240 --> 00:12:40,480
Notice how the VTY line configurations are&nbsp;
displayed in the running config of the device.&nbsp;&nbsp;

123
00:12:41,440 --> 00:12:45,200
The first 5 lines are displayed&nbsp;
above, and the remaining 11 are below.&nbsp;&nbsp;

124
00:12:46,160 --> 00:12:52,800
I believe this is just a result of the fact that&nbsp;
old versions of IOS only had 5 VTY lines. So,&nbsp;&nbsp;

125
00:12:52,800 --> 00:12:56,720
even if you configure all 16 lines at&nbsp;
once, they display separately in the&nbsp;&nbsp;

126
00:12:56,720 --> 00:13:02,400
config. That’s just a bit of trivia, it doesn’t&nbsp;
have any effect on the operation of the lines.&nbsp;&nbsp;

127
00:13:03,520 --> 00:13:08,480
So, that was a quick look at Telnet. Finally&nbsp;
let’s go to the main topic of the video, SSH.

128
00:13:10,160 --> 00:13:16,560
SSH, which stands for Secure Shell, was developed&nbsp;
in 1995 to replace less secure protocols like&nbsp;&nbsp;

129
00:13:16,560 --> 00:13:22,160
Telnet. By the way, if you’re wondering what&nbsp;
a ‘shell’ is, here’s Wikipedia’s definition.&nbsp;&nbsp;

130
00:13:23,440 --> 00:13:28,960
A shell is a computer program which exposes the&nbsp;
operating system’s services to a human user or&nbsp;&nbsp;

131
00:13:28,960 --> 00:13:38,080
other program. So, any time you’re accessing the&nbsp;
CLI of a device, that is a shell. SSHv2, a major&nbsp;&nbsp;

132
00:13:38,080 --> 00:13:46,000
revision of SSHv1, was released in 2006. Version&nbsp;
2 is more secure, so it should be used whenever&nbsp;&nbsp;

133
00:13:46,000 --> 00:13:53,120
possible. If a device supports both version 1&nbsp;
and version 2, it is said to run version 1.99.&nbsp;&nbsp;

134
00:13:54,160 --> 00:14:01,040
Note that 1.99 isn’t actually a version of SSH, it&nbsp;
just means that the device supports both version 1&nbsp;&nbsp;

135
00:14:01,040 --> 00:14:07,680
and version 2. SSH provides security features&nbsp;
such as data encryption and authentication.&nbsp;&nbsp;

136
00:14:08,640 --> 00:14:11,840
You’ll learn more about those terms&nbsp;
in the security section of the course.&nbsp;&nbsp;

137
00:14:12,880 --> 00:14:17,840
But for example, here’s an SSH packet&nbsp;
that I captured in Wireshark. Look at&nbsp;&nbsp;

138
00:14:17,840 --> 00:14:22,000
the encrypted packet section, it’s just&nbsp;
a seemingly random string of characters.&nbsp;&nbsp;

139
00:14:22,960 --> 00:14:28,880
Only the SSH server and client have the keys to&nbsp;
decrypt this packet, so even though I captured&nbsp;&nbsp;

140
00:14:28,880 --> 00:14:35,040
the packet on the way to its destination, I&nbsp;
don’t know what the contents are. By the way,&nbsp;&nbsp;

141
00:14:35,040 --> 00:14:43,840
SSH uses TCP port 22. So, remember that&nbsp;
Telnet uses TCP 23 and SSH uses TCP 22.

142
00:14:45,600 --> 00:14:50,400
Before configuring SSH, you should make sure that&nbsp;
the version of IOS on your device supports it.&nbsp;&nbsp;

143
00:14:51,200 --> 00:14:57,520
I used the SHOW VERSION command, and here’s&nbsp;
the IOS image name. Note the K9 at the end&nbsp;&nbsp;

144
00:14:57,520 --> 00:15:06,400
that I highlighted. IOS images that support SSH&nbsp;
will have K9 in their name. Cisco exports NPE,&nbsp;&nbsp;

145
00:15:06,400 --> 00:15:11,840
No Payload Encryption, IOS images to countries&nbsp;
that have restrictions on encryption technologies.&nbsp;&nbsp;

146
00:15:12,880 --> 00:15:18,880
And those NPE IOS images do not support&nbsp;
cryptographic features like SSH. Weak forms&nbsp;&nbsp;

147
00:15:18,880 --> 00:15:23,120
of encryption might be supported, but I would&nbsp;
have to do more research on that to find out,&nbsp;&nbsp;

148
00:15:23,120 --> 00:15:30,960
unfortunately I don’t have access to any NPE IOS&nbsp;
images. Another command to use is SHOW IP SSH.&nbsp;&nbsp;

149
00:15:31,840 --> 00:15:38,080
If your device doesn’t support SSH, it will&nbsp;
tell you here. In this case, SSH is supported,&nbsp;&nbsp;

150
00:15:38,080 --> 00:15:46,000
but disabled. Notice the version is 1.99,&nbsp;
meaning it supports both versions 1 and 2. Now,&nbsp;&nbsp;

151
00:15:46,000 --> 00:15:52,560
here’s a hint about the first step in configuring&nbsp;
SSH. Please create RSA keys to enable SSH.&nbsp;&nbsp;

152
00:15:53,680 --> 00:15:59,440
RSA keys are cryptographic keys that are essential&nbsp;
for the various security features of SSH.

153
00:16:00,960 --> 00:16:06,720
Okay, so after ensuring that the IOS image you’re&nbsp;
using supports SSH, you must generate those RSA&nbsp;&nbsp;

154
00:16:06,720 --> 00:16:13,760
keys. The keys are used for data encryption and&nbsp;
decryption, authentication, etc. Here’s how to&nbsp;&nbsp;

155
00:16:13,760 --> 00:16:20,640
do that. First, I configured the domain name&nbsp;
of SW1 with IP DOMAIN NAME jeremysitlab.com.&nbsp;&nbsp;

156
00:16:21,680 --> 00:16:27,280
The reason for this is that the FQDN of&nbsp;
the device is used to name the RSA keys.&nbsp;&nbsp;

157
00:16:28,400 --> 00:16:34,640
By the way, FQDN means Fully Qualified Domain&nbsp;
Name, which is the host name plus the DNS domain&nbsp;&nbsp;

158
00:16:34,640 --> 00:16:43,520
name. Then I generated the RSA keys. The command&nbsp;
is CRYPTO KEY GENERATE RSA. Here it shows the&nbsp;&nbsp;

159
00:16:43,520 --> 00:16:51,680
name the keys, SW1.jeremysitlab.com, which&nbsp;
is the FQDN of SW1. Then you have to choose&nbsp;&nbsp;

160
00:16:51,680 --> 00:16:58,480
the size of the modulus, the size of the keys. I&nbsp;
configured 2048 bits as I have highlighted here.&nbsp;&nbsp;

161
00:16:59,840 --> 00:17:05,440
Note that you can just use the command CRYPTO KEY&nbsp;
GENERATE RSA MODULUS, and then specify the length,&nbsp;&nbsp;

162
00:17:05,440 --> 00:17:09,520
without having to specify it separately&nbsp;
like this. The effect is the same.&nbsp;&nbsp;

163
00:17:11,120 --> 00:17:17,680
Note that the length must be 768 bits or greater&nbsp;
to use SSHv2, so make sure the keys are at least&nbsp;&nbsp;

164
00:17:17,680 --> 00:17:23,040
that length. Greater key lengths are more&nbsp;
secure, but take longer to generate and use.&nbsp;&nbsp;

165
00:17:24,320 --> 00:17:28,080
After the keys are generated,&nbsp;
a Syslog message is displayed,&nbsp;&nbsp;

166
00:17:28,080 --> 00:17:36,000
indicating that SSH has been enabled. I check SHOW&nbsp;
IP SSH again, and indeed SSH has been enabled.

167
00:17:38,480 --> 00:17:44,560
Now that SSH is enabled, let’s configure it. The&nbsp;
Telnet configurations on SW1 have been removed,&nbsp;&nbsp;

168
00:17:44,560 --> 00:17:51,920
so let’s do a clean configuration of SSH. First,&nbsp;
just like before I configured the enable secret,&nbsp;&nbsp;

169
00:17:51,920 --> 00:17:59,440
a username, and an ACL to restrict connections&nbsp;
to only allow PC2. Then I used the command IP SSH&nbsp;&nbsp;

170
00:17:59,440 --> 00:18:04,640
VERSION 2. This is optional, but recommended&nbsp;
because SSH version 2 is more secure.&nbsp;&nbsp;

171
00:18:05,920 --> 00:18:12,800
Then once again, use the command LINE VTY&nbsp;
0 15 to configure all 16 VTY lines, just&nbsp;&nbsp;

172
00:18:12,800 --> 00:18:20,240
like when configuring Telnet. Then enable local&nbsp;
authentication. Note that you can’t use LOGIN for&nbsp;&nbsp;

173
00:18:20,240 --> 00:18:27,280
SSH, only LOGIN LOCAL works, a username is needed.&nbsp;
You can also authenticate to an authentication&nbsp;&nbsp;

174
00:18:27,280 --> 00:18:33,680
server, but that’s a topic for another video.&nbsp;
Then, since I removed the Telnet configurations,&nbsp;&nbsp;

175
00:18:33,680 --> 00:18:39,040
I configured the exec timeout again. This is&nbsp;
optional because there will most likely be a&nbsp;&nbsp;

176
00:18:39,040 --> 00:18:43,360
default exec timeout, but you can use this&nbsp;
command to specify the timeout you want.&nbsp;&nbsp;

177
00:18:44,480 --> 00:18:52,400
Then I used TRANSPORT INPUT SSH. Best practice&nbsp;
is to limit VTY line connections to SSH only,&nbsp;&nbsp;

178
00:18:52,400 --> 00:18:57,360
disabling Telnet because it’s less&nbsp;
secure. Then finally I applied the ACL.&nbsp;&nbsp;

179
00:18:58,400 --> 00:19:03,520
Just like for Telnet this is optional, but it&nbsp;
is recommended because it adds further security.

180
00:19:05,040 --> 00:19:11,040
Okay, let me summarize the SSH configuration&nbsp;
process. First, configure the device host name.&nbsp;&nbsp;

181
00:19:11,680 --> 00:19:16,560
I didn’t mention this previously because I had&nbsp;
already configured the host name, but the device&nbsp;&nbsp;

182
00:19:16,560 --> 00:19:24,160
cannot generate its RSA keys without a non-default&nbsp;
hostname. Let me show you. So, on a router with&nbsp;&nbsp;

183
00:19:24,160 --> 00:19:30,720
the default host name I tried the CRYPTO KEY&nbsp;
GENERATE RSA command. I get a message saying,&nbsp;&nbsp;

184
00:19:30,720 --> 00:19:36,800
please define a hostname other than router. So&nbsp;
I did that. Then I tried to generate the RSA&nbsp;&nbsp;

185
00:19:36,800 --> 00:19:43,200
key pair again. However I haven’t defined a domain&nbsp;
name yet, so I get a message telling me to do so.&nbsp;&nbsp;

186
00:19:44,080 --> 00:19:51,120
And that’s the next step in SSH configuration,&nbsp;
configure a DNS domain name. So that’s what I did,&nbsp;&nbsp;

187
00:19:51,120 --> 00:19:58,320
IP DOMAIN NAME jeremysitlab.com. Then I try to&nbsp;
generate the RSA key pair, and the command works.&nbsp;&nbsp;

188
00:19:59,280 --> 00:20:04,240
So, remember that. To generate the RSA key&nbsp;
pair you need to configure the host name&nbsp;&nbsp;

189
00:20:04,240 --> 00:20:10,320
and the domain name first. Actually, you can&nbsp;
manually specify a name for the key pair, but&nbsp;&nbsp;

190
00:20:10,320 --> 00:20:16,480
for the CCNA you just have to know this method.&nbsp;
So, that’s the next step, generate the key pair.&nbsp;&nbsp;

191
00:20:17,520 --> 00:20:21,360
Then the next step is to configure an&nbsp;
enable password and local username and&nbsp;&nbsp;

192
00:20:21,360 --> 00:20:27,680
password combination. The order of this step&nbsp;
doesn’t matter, and it’s not an SSH-specific&nbsp;&nbsp;

193
00:20:27,680 --> 00:20:34,560
configuration step, but make sure they are&nbsp;
configured. Then enable SSH version 2 only.&nbsp;&nbsp;

194
00:20:35,360 --> 00:20:41,760
This isn’t necessary, but it is best practice&nbsp;
so I decided to include it in this summary. Then&nbsp;&nbsp;

195
00:20:41,760 --> 00:20:49,200
configure the VTY lines. The most important one is&nbsp;
to make sure TRANSPORT INPUT SSH is enabled, and&nbsp;&nbsp;

196
00:20:49,200 --> 00:20:55,520
then you can do any other VTY line configurations&nbsp;
you want like exec timeout, applying an ACL, etc.&nbsp;&nbsp;

197
00:20:56,480 --> 00:21:04,320
And that’s it, SSH should be working. From a&nbsp;
PC you can connect using the command SSH -L,&nbsp;&nbsp;

198
00:21:04,960 --> 00:21:12,880
followed by the username and IP address, or SSH&nbsp;
username@IP address. You can try that out in the&nbsp;&nbsp;

199
00:21:12,880 --> 00:21:20,160
practice lab. And make sure you do the practice&nbsp;
lab. You can make your own lab or use my lab file.&nbsp;&nbsp;

200
00:21:20,160 --> 00:21:24,000
But you need to know how to configure&nbsp;
SSH, so make sure you practice it.

201
00:21:26,240 --> 00:21:31,040
Here’s a summary of the new commands in this&nbsp;
video. Like I said, you’ll definitely want&nbsp;&nbsp;

202
00:21:31,040 --> 00:21:35,040
to do some labbing in packet tracer&nbsp;
to get used to SSH configuration.&nbsp;&nbsp;

203
00:21:36,000 --> 00:21:43,440
Unlike Syslog and SNMP, SSH configuration is&nbsp;
a CCNA exam topic. If you don’t remember the&nbsp;&nbsp;

204
00:21:43,440 --> 00:21:47,360
purpose of any of these commands,&nbsp;
go back in the video to review.

205
00:21:48,040 --> 00:21:50,960
SLIDE15
Before the quiz, here’s a review&nbsp;&nbsp;

206
00:21:50,960 --> 00:21:58,240
of what we covered. First, console port security.&nbsp;
By default, anyone who has physical access to the&nbsp;&nbsp;

207
00:21:58,240 --> 00:22:04,640
console port can access the CLI of the device. So,&nbsp;
it’s a good idea to configure some security on it.&nbsp;&nbsp;

208
00:22:05,840 --> 00:22:09,520
Then I introduced the concept of&nbsp;
a Layer 2 switch management IP.&nbsp;&nbsp;

209
00:22:10,640 --> 00:22:15,600
Layer 2 switches can’t route packets, but&nbsp;
they can still send traffic from and receive&nbsp;&nbsp;

210
00:22:15,600 --> 00:22:22,000
traffic on an SVI, allowing them to respond&nbsp;
to pings, received connections via SSH, etc.&nbsp;&nbsp;

211
00:22:23,200 --> 00:22:27,920
Then I introduced Telnet, a protocol that&nbsp;
allows you to connect to the CLI of a device.&nbsp;&nbsp;

212
00:22:28,960 --> 00:22:34,720
However, Telnet is old and not secure,&nbsp;
so in modern days we typically use SSH,&nbsp;&nbsp;

213
00:22:34,720 --> 00:22:38,080
Secure Shell instead when we&nbsp;
remotely configure devices.&nbsp;&nbsp;

214
00:22:39,360 --> 00:22:42,960
Make sure to watch until the end of the&nbsp;
quiz for a bonus practice question from&nbsp;&nbsp;

215
00:22:42,960 --> 00:22:49,600
Boson Software’s ExSim, the best practice exams&nbsp;
for the CCNA. Okay, let’s go to question 1.

216
00:22:51,680 --> 00:22:58,240
You issue the crypto key generate rsa command on&nbsp;
a Cisco router, but the command is rejected. Which&nbsp;&nbsp;

217
00:22:58,240 --> 00:23:08,000
of the following might be the cause? Select two.&nbsp;
Pause the video now to think about the answers.

218
00:23:08,000 --> 00:23:14,160
The answers are A, a host name hasn’t been&nbsp;
configured, and E, a DNS domain name hasn’t been&nbsp;&nbsp;

219
00:23:14,160 --> 00:23:21,840
configured. The FQDN, fully qualified domain name,&nbsp;
of the device is used to name the RSA key pair.&nbsp;&nbsp;

220
00:23:22,640 --> 00:23:29,080
The FQDN consists of the device’s host name&nbsp;
and its domain name. Also, the default host&nbsp;&nbsp;

221
00:23:29,080 --> 00:23:35,360
name of Router cannot be used, a host name must be&nbsp;
manually configured. Okay, let’s go to question 2.

222
00:23:38,160 --> 00:23:42,880
Which of the following commands would allow&nbsp;
both Telnet and SSH to be used to connect to&nbsp;&nbsp;

223
00:23:42,880 --> 00:23:47,760
the VTY lines of a device? (select two,&nbsp;
each answer is a complete solution).&nbsp;&nbsp;

224
00:23:48,800 --> 00:23:50,960
Pause the video now to think about your answers.

225
00:23:55,840 --> 00:24:02,160
The answers are C, TRANSPORT INPUT&nbsp;
TELNET SSH, and D, TRANSPORT INPUT ALL.&nbsp;&nbsp;

226
00:24:03,360 --> 00:24:10,160
C will allow Telnet and SSH, whereas D will&nbsp;
allow some other protocols. As you can see,&nbsp;&nbsp;

227
00:24:10,160 --> 00:24:18,160
there are protocols outside of Telnet and SSH that&nbsp;
are supported. A, TRANSPORT INPUT DEFAULT isn’t a&nbsp;&nbsp;

228
00:24:18,160 --> 00:24:25,440
real command, and B, TRANSPORT INPUT NONE, would&nbsp;
allow no protocols. Okay, let’s go to question 3.

229
00:24:28,000 --> 00:24:36,080
You want to allow only 192.168.1.1 to connect to&nbsp;
R1 via SSH. Which of the following configurations&nbsp;&nbsp;

230
00:24:36,080 --> 00:24:40,320
fulfills that requirement? Pause the&nbsp;
video now to think about the answer.

231
00:24:44,400 --> 00:24:52,640
The answer is B. SSH uses TCP port 22. You must&nbsp;
configure the VTY lines. And you must use the&nbsp;&nbsp;

232
00:24:52,640 --> 00:24:59,200
ACCESS-CLASS command to apply it to the VTY&nbsp;
lines. Only B fulfills all of those requirements,&nbsp;&nbsp;

233
00:24:59,200 --> 00:25:02,960
so it is the correct answer.&nbsp;
Okay, let’s go to question 4.

234
00:25:05,360 --> 00:25:08,960
Which of the following statements&nbsp;
about SSH are true? (select two).&nbsp;&nbsp;

235
00:25:09,680 --> 00:25:13,840
Pause the video now to think about the answers.

236
00:25:16,240 --> 00:25:24,880
The answers are B, K9 IOS images support SSH, and&nbsp;
F, a key length of at least 768 bits is required&nbsp;&nbsp;

237
00:25:24,880 --> 00:25:35,840
for SSHv2. RSA keys are required to enable SSH, so&nbsp;
A is incorrect. SSH version 1.99 isn’t an actual&nbsp;&nbsp;

238
00:25:35,840 --> 00:25:42,640
SSH version, it is used to refer to a device that&nbsp;
supports both versions 1 and 2, so C is incorrect.&nbsp;&nbsp;

239
00:25:44,080 --> 00:25:52,880
SSH does not send data in plain text, it encrypts&nbsp;
the data. So D is incorrect. And NPE IOS images&nbsp;&nbsp;

240
00:25:52,880 --> 00:25:59,760
do not support cryptographic features like SSH,&nbsp;
so E is incorrect. Okay, let’s go to question 5.

241
00:26:01,920 --> 00:26:10,160
A network admin using PC1 is remotely configuring&nbsp;
SW1 by connecting to the CLI of SW1 via SSH.&nbsp;&nbsp;

242
00:26:10,160 --> 00:26:15,520
What is the role of SW1 in this situation?&nbsp;
Pause the video now to think about the answer.

243
00:26:20,080 --> 00:26:27,600
The answer is B, SSH server. SSH and Telnet use&nbsp;
a client-server model, in which the device being&nbsp;&nbsp;

244
00:26:27,600 --> 00:26:33,920
connected to, SW1 in this case, is the server,&nbsp;
and the device using SSH or Telnet to connect,&nbsp;&nbsp;

245
00:26:33,920 --> 00:26:38,960
PC1 in this case, is the client.&nbsp;
Okay, that’s all for the quiz.&nbsp;&nbsp;

246
00:26:38,960 --> 00:26:43,360
Now let’s do a bonus practice question&nbsp;
from Boson Software’s ExSim for CCNA.

247
00:26:46,160 --> 00:26:51,680
Okay here's today's Boson ExSim practice&nbsp;
question. You want to configure SSH for&nbsp;&nbsp;

248
00:26:51,680 --> 00:26:58,480
incoming VTY connections on a router with the&nbsp;
host name Router1. Router1 is running a K9 IOS&nbsp;&nbsp;

249
00:26:58,480 --> 00:27:03,040
image but has not yet been configured&nbsp;
with a domain name or an RSA key pair.&nbsp;&nbsp;

250
00:27:03,920 --> 00:27:10,480
In addition, the VTY lines are not yet configured&nbsp;
to accept incoming SSH connections. You issue the&nbsp;&nbsp;

251
00:27:10,480 --> 00:27:15,760
CRYPTO KEY GENERATE RSA command from global&nbsp;
config mode. Which of the following messages&nbsp;&nbsp;

252
00:27:15,760 --> 00:27:21,440
will you most likely receive? Select the&nbsp;
best answer. Okay, so there are five options.&nbsp;&nbsp;

253
00:27:22,320 --> 00:27:26,400
Please pause the video now, check out the&nbsp;
options, and think about the correct answer.&nbsp;&nbsp;

254
00:27:31,280 --> 00:27:36,720
Okay, let's check. So the important information&nbsp;
here is that it has a host name, the host name&nbsp;&nbsp;

255
00:27:36,720 --> 00:27:44,800
is Router1. It does have a K9 IOS image, so that&nbsp;
supports SSH. But it has not yet been configured&nbsp;&nbsp;

256
00:27:44,800 --> 00:27:51,360
with a domain name or an RSA key pair. So no&nbsp;
domain name. So, which message will you most&nbsp;&nbsp;

257
00:27:51,360 --> 00:28:00,480
likely receive? The name for the keys will be,&nbsp;
and then the name. Probably not this one because,&nbsp;&nbsp;

258
00:28:00,480 --> 00:28:06,240
as I said, the name for the key pair is&nbsp;
created using the fully qualified domain name,&nbsp;&nbsp;

259
00:28:06,240 --> 00:28:11,600
which requires a host name and a domain name.&nbsp;
And the domain name has not yet been configured.&nbsp;&nbsp;

260
00:28:13,520 --> 00:28:19,440
B, please define a domain-name first. I think&nbsp;
that is the correct answer. Because as I just&nbsp;&nbsp;

261
00:28:19,440 --> 00:28:25,440
said you need a host name and a domain name. It&nbsp;
has a host name, a non-default host name, Router1,&nbsp;&nbsp;

262
00:28:25,440 --> 00:28:32,160
but no domain name yet. C, please create RSA keys&nbsp;
to enable SSH. Well that's what you're trying to&nbsp;&nbsp;

263
00:28:32,160 --> 00:28:36,480
do there, so I don't think that message will&nbsp;
be displayed. Please define a host name other&nbsp;&nbsp;

264
00:28:36,480 --> 00:28:43,440
than Router. It already has a non-default host&nbsp;
name. And please enable SSH version 2. You do&nbsp;&nbsp;

265
00:28:43,440 --> 00:28:49,680
not need SSH version 2 to create the RSA key&nbsp;
pair. So, I believe B is the correct answer.&nbsp;&nbsp;

266
00:28:51,200 --> 00:28:57,840
And yes it is. So here is Boson's explanation.&nbsp;
I recommend pausing the video now to read it.&nbsp;&nbsp;

267
00:29:01,760 --> 00:29:06,960
And here's the rest. There are some references&nbsp;
to the official cert guide by Wendell Odom,&nbsp;&nbsp;

268
00:29:07,520 --> 00:29:12,400
as well as some Cisco documentation&nbsp;
about configuring SSH on Cisco devices.&nbsp;&nbsp;

269
00:29:16,320 --> 00:29:21,600
Okay, so that's Boson ExSim for CCNA. These are&nbsp;
without a doubt the best practice exams for the&nbsp;&nbsp;

270
00:29:21,600 --> 00:29:27,360
CCNA, as well as CCNP and many other&nbsp;
exams. If you want to get Boson ExSim,&nbsp;&nbsp;

271
00:29:27,360 --> 00:29:29,440
please follow the link in the video description.

272
00:29:32,640 --> 00:29:35,040
There are supplementary materials for this video.&nbsp;&nbsp;

273
00:29:35,840 --> 00:29:38,720
There is a flashcard deck to&nbsp;
use with the software ‘Anki’.&nbsp;&nbsp;

274
00:29:39,360 --> 00:29:43,360
There will also be a packet tracer practice&nbsp;
lab so you can get some hands-on practice.&nbsp;&nbsp;

275
00:29:44,000 --> 00:29:49,440
That will be in the next video. Sign up for my&nbsp;
mailing list via the link in the description,&nbsp;&nbsp;

276
00:29:49,440 --> 00:29:53,840
and I’ll send you all of the flashcards&nbsp;
and packet tracer lab files for the course.

277
00:29:56,080 --> 00:30:00,320
Before finishing today’s video I want&nbsp;
to thank my JCNP-level channel members.&nbsp;&nbsp;

278
00:30:01,120 --> 00:30:07,600
To join, please click the ‘Join’ button under the&nbsp;
video. Thank you to Raj, Kenneth, Seamus, H W,&nbsp;&nbsp;

279
00:30:07,600 --> 00:30:14,640
Brandon, Samil, Aaron, Marcel, Kone, Donald, C&nbsp;
Mohd, Gustavo, Anthony, Biraj, Junhong, Benjamin,&nbsp;&nbsp;

280
00:30:14,640 --> 00:30:20,160
Tshepiso, Justin, Prakaash, Nasir, Erlison,&nbsp;
Marko, Daming, Jhilmar, Ed, Value, John,&nbsp;&nbsp;

281
00:30:20,160 --> 00:30:25,840
Funnydart, Velvijaykum, Mark, Yousif, Boson&nbsp;
Software, Devin, Lito, Yonatan, and Vance.&nbsp;&nbsp;

282
00:30:27,040 --> 00:30:32,320
Sorry if I pronounced your name incorrectly,&nbsp;
but thank you so much for your support. This&nbsp;&nbsp;

283
00:30:32,320 --> 00:30:39,200
is the list of JCNP-level members at the time&nbsp;
of recording by the way, February 21st 2021. If&nbsp;&nbsp;

284
00:30:39,200 --> 00:30:44,080
you signed up recently and your name isn’t on&nbsp;
here don’t worry, you’ll be in future videos.

285
00:30:45,680 --> 00:30:48,800
Thank you for watching. Please&nbsp;
subscribe to the channel,&nbsp;&nbsp;

286
00:30:48,800 --> 00:30:53,520
like the video, leave a comment, and share the&nbsp;
video with anyone else studying for the CCNA.&nbsp;&nbsp;

287
00:30:54,560 --> 00:31:00,160
If you want to leave a tip, check the links in the&nbsp;
description. I'm also a Brave verified publisher&nbsp;&nbsp;

288
00:31:00,160 --> 00:31:06,800
and accept BAT, or Basic Attention Token, tips&nbsp;
via the Brave browser. That's all for now.